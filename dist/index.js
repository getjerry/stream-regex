(()=>{var e={7833:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,s=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(s=n))})),t.splice(s,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(736)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},736:(e,t,r)=>{e.exports=function(e){function t(e){let r,s,i,o=null;function a(...e){if(!a.enabled)return;const n=a,s=Number(new Date),i=s-(r||s);n.diff=i,n.prev=r,n.curr=s,r=s,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,s)=>{if("%%"===r)return"%";o++;const i=t.formatters[s];if("function"==typeof i){const t=e[o];r=i.call(n,t),e.splice(o,1),o--}return r})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==o?o:(s!==t.namespaces&&(s=t.namespaces,i=t.enabled(e)),i),set:e=>{o=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(s),...t.skips.map(s).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),s=n.length;for(r=0;r<s;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(6585),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},5753:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(7833):e.exports=r(6033)},6033:(e,t,r)=>{const n=r(2018),s=r(9023);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(s.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:s}=this;if(s){const t=this.color,s="[3"+(t<8?t:"8;5;"+t),i=`  ${s};1m${n} [0m`;r[0]=i+r[0].split("\n").join("\n"+i),r.push(s+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=s.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(7687);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{}),e.exports=r(736)(t);const{formatters:i}=e.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts)}},5884:e=>{"use strict";e.exports=(e,t=process.argv)=>{const r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),s=t.indexOf("--");return-1!==n&&(-1===s||n<s)}},5580:(e,t,r)=>{var n=r(6110)(r(9325),"DataView");e.exports=n},1549:(e,t,r)=>{var n=r(2032),s=r(3862),i=r(6721),o=r(2749),a=r(5749);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=s,u.prototype.get=i,u.prototype.has=o,u.prototype.set=a,e.exports=u},79:(e,t,r)=>{var n=r(3702),s=r(80),i=r(4739),o=r(8655),a=r(1175);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=s,u.prototype.get=i,u.prototype.has=o,u.prototype.set=a,e.exports=u},8223:(e,t,r)=>{var n=r(6110)(r(9325),"Map");e.exports=n},3661:(e,t,r)=>{var n=r(3040),s=r(7670),i=r(289),o=r(4509),a=r(2949);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=s,u.prototype.get=i,u.prototype.has=o,u.prototype.set=a,e.exports=u},2804:(e,t,r)=>{var n=r(6110)(r(9325),"Promise");e.exports=n},6545:(e,t,r)=>{var n=r(6110)(r(9325),"Set");e.exports=n},8859:(e,t,r)=>{var n=r(3661),s=r(1380),i=r(1459);function o(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}o.prototype.add=o.prototype.push=s,o.prototype.has=i,e.exports=o},7217:(e,t,r)=>{var n=r(79),s=r(1420),i=r(938),o=r(3605),a=r(9817),u=r(945);function c(e){var t=this.__data__=new n(e);this.size=t.size}c.prototype.clear=s,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=u,e.exports=c},1873:(e,t,r)=>{var n=r(9325).Symbol;e.exports=n},7828:(e,t,r)=>{var n=r(9325).Uint8Array;e.exports=n},8303:(e,t,r)=>{var n=r(6110)(r(9325),"WeakMap");e.exports=n},3729:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},7277:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}},9770:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}},695:(e,t,r)=>{var n=r(8096),s=r(2428),i=r(6449),o=r(3656),a=r(361),u=r(7167),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=i(e),l=!r&&s(e),p=!r&&!l&&o(e),h=!r&&!l&&!p&&u(e),m=r||l||p||h,f=m?n(e.length,String):[],d=f.length;for(var v in e)!t&&!c.call(e,v)||m&&("length"==v||p&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||a(v,d))||f.push(v);return f}},4932:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}},4528:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}},882:e=>{e.exports=function(e,t,r,n){var s=-1,i=null==e?0:e.length;for(n&&i&&(r=e[++s]);++s<i;)r=t(r,e[s],s,e);return r}},4248:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},6025:(e,t,r)=>{var n=r(5288);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},909:(e,t,r)=>{var n=r(641),s=r(8329)(n);e.exports=s},3777:(e,t,r)=>{var n=r(909);e.exports=function(e,t){var r=!0;return n(e,(function(e,n,s){return r=!!t(e,n,s)})),r}},6649:(e,t,r)=>{var n=r(3221)();e.exports=n},641:(e,t,r)=>{var n=r(6649),s=r(5950);e.exports=function(e,t){return e&&n(e,t,s)}},7422:(e,t,r)=>{var n=r(1769),s=r(7797);e.exports=function(e,t){for(var r=0,i=(t=n(t,e)).length;null!=e&&r<i;)e=e[s(t[r++])];return r&&r==i?e:void 0}},2199:(e,t,r)=>{var n=r(4528),s=r(6449);e.exports=function(e,t,r){var i=t(e);return s(e)?i:n(i,r(e))}},2552:(e,t,r)=>{var n=r(1873),s=r(659),i=r(9350),o=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?s(e):i(e)}},8077:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7534:(e,t,r)=>{var n=r(2552),s=r(346);e.exports=function(e){return s(e)&&"[object Arguments]"==n(e)}},270:(e,t,r)=>{var n=r(7068),s=r(346);e.exports=function e(t,r,i,o,a){return t===r||(null==t||null==r||!s(t)&&!s(r)?t!=t&&r!=r:n(t,r,i,o,e,a))}},7068:(e,t,r)=>{var n=r(7217),s=r(5911),i=r(1986),o=r(689),a=r(5861),u=r(6449),c=r(3656),l=r(7167),p="[object Arguments]",h="[object Array]",m="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,d,v,g){var y=u(e),I=u(t),x=y?h:a(e),b=I?h:a(t),_=(x=x==p?m:x)==m,S=(b=b==p?m:b)==m,w=x==b;if(w&&c(e)){if(!c(t))return!1;y=!0,_=!1}if(w&&!_)return g||(g=new n),y||l(e)?s(e,t,r,d,v,g):i(e,t,x,r,d,v,g);if(!(1&r)){var C=_&&f.call(e,"__wrapped__"),A=S&&f.call(t,"__wrapped__");if(C||A){var O=C?e.value():e,F=A?t.value():t;return g||(g=new n),v(O,F,r,d,g)}}return!!w&&(g||(g=new n),o(e,t,r,d,v,g))}},1799:(e,t,r)=>{var n=r(7217),s=r(270);e.exports=function(e,t,r,i){var o=r.length,a=o,u=!i;if(null==e)return!a;for(e=Object(e);o--;){var c=r[o];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<a;){var l=(c=r[o])[0],p=e[l],h=c[1];if(u&&c[2]){if(void 0===p&&!(l in e))return!1}else{var m=new n;if(i)var f=i(p,h,l,e,t,m);if(!(void 0===f?s(h,p,3,i,m):f))return!1}}return!0}},5083:(e,t,r)=>{var n=r(1882),s=r(7296),i=r(3805),o=r(7473),a=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,p=c.hasOwnProperty,h=RegExp("^"+l.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||s(e))&&(n(e)?h:a).test(o(e))}},4901:(e,t,r)=>{var n=r(2552),s=r(294),i=r(346),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&s(e.length)&&!!o[n(e)]}},5389:(e,t,r)=>{var n=r(3663),s=r(7978),i=r(3488),o=r(6449),a=r(583);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?o(e)?s(e[0],e[1]):n(e):a(e)}},8984:(e,t,r)=>{var n=r(5527),s=r(3650),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return s(e);var t=[];for(var r in Object(e))i.call(e,r)&&"constructor"!=r&&t.push(r);return t}},5128:(e,t,r)=>{var n=r(909),s=r(4894);e.exports=function(e,t){var r=-1,i=s(e)?Array(e.length):[];return n(e,(function(e,n,s){i[++r]=t(e,n,s)})),i}},3663:(e,t,r)=>{var n=r(1799),s=r(776),i=r(7197);e.exports=function(e){var t=s(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},7978:(e,t,r)=>{var n=r(270),s=r(5775),i=r(631),o=r(8586),a=r(756),u=r(7197),c=r(7797);e.exports=function(e,t){return o(e)&&a(t)?u(c(e),t):function(r){var o=s(r,e);return void 0===o&&o===t?i(r,e):n(t,o,3)}}},7237:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},7255:(e,t,r)=>{var n=r(7422);e.exports=function(e){return function(t){return n(t,e)}}},6151:e=>{var t=Math.ceil,r=Math.max;e.exports=function(e,n,s,i){for(var o=-1,a=r(t((n-e)/(s||1)),0),u=Array(a);a--;)u[i?a:++o]=e,e+=s;return u}},5558:e=>{e.exports=function(e,t,r,n,s){return s(e,(function(e,s,i){r=n?(n=!1,e):t(r,e,s,i)})),r}},916:(e,t,r)=>{var n=r(909);e.exports=function(e,t){var r;return n(e,(function(e,n,s){return!(r=t(e,n,s))})),!!r}},8096:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},7556:(e,t,r)=>{var n=r(1873),s=r(4932),i=r(6449),o=r(4394),a=n?n.prototype:void 0,u=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return s(t,e)+"";if(o(t))return u?u.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},4128:(e,t,r)=>{var n=r(1800),s=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(s,""):e}},7301:e=>{e.exports=function(e){return function(t){return e(t)}}},9219:e=>{e.exports=function(e,t){return e.has(t)}},4066:(e,t,r)=>{var n=r(3488);e.exports=function(e){return"function"==typeof e?e:n}},1769:(e,t,r)=>{var n=r(6449),s=r(8586),i=r(1802),o=r(3222);e.exports=function(e,t){return n(e)?e:s(e,t)?[e]:i(o(e))}},5481:(e,t,r)=>{var n=r(9325)["__core-js_shared__"];e.exports=n},8329:(e,t,r)=>{var n=r(4894);e.exports=function(e,t){return function(r,s){if(null==r)return r;if(!n(r))return e(r,s);for(var i=r.length,o=t?i:-1,a=Object(r);(t?o--:++o<i)&&!1!==s(a[o],o,a););return r}}},3221:e=>{e.exports=function(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),a=o.length;a--;){var u=o[e?a:++s];if(!1===r(i[u],u,i))break}return t}}},5508:(e,t,r)=>{var n=r(6151),s=r(6800),i=r(7400);e.exports=function(e){return function(t,r,o){return o&&"number"!=typeof o&&s(t,r,o)&&(r=o=void 0),t=i(t),void 0===r?(r=t,t=0):r=i(r),o=void 0===o?t<r?1:-1:i(o),n(t,r,o,e)}}},5911:(e,t,r)=>{var n=r(8859),s=r(4248),i=r(9219);e.exports=function(e,t,r,o,a,u){var c=1&r,l=e.length,p=t.length;if(l!=p&&!(c&&p>l))return!1;var h=u.get(e),m=u.get(t);if(h&&m)return h==t&&m==e;var f=-1,d=!0,v=2&r?new n:void 0;for(u.set(e,t),u.set(t,e);++f<l;){var g=e[f],y=t[f];if(o)var I=c?o(y,g,f,t,e,u):o(g,y,f,e,t,u);if(void 0!==I){if(I)continue;d=!1;break}if(v){if(!s(t,(function(e,t){if(!i(v,t)&&(g===e||a(g,e,r,o,u)))return v.push(t)}))){d=!1;break}}else if(g!==y&&!a(g,y,r,o,u)){d=!1;break}}return u.delete(e),u.delete(t),d}},1986:(e,t,r)=>{var n=r(1873),s=r(7828),i=r(5288),o=r(5911),a=r(317),u=r(4247),c=n?n.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,r,n,c,p,h){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!p(new s(e),new s(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var m=a;case"[object Set]":var f=1&n;if(m||(m=u),e.size!=t.size&&!f)return!1;var d=h.get(e);if(d)return d==t;n|=2,h.set(e,t);var v=o(m(e),m(t),n,c,p,h);return h.delete(e),v;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},689:(e,t,r)=>{var n=r(2),s=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,i,o,a){var u=1&r,c=n(e),l=c.length;if(l!=n(t).length&&!u)return!1;for(var p=l;p--;){var h=c[p];if(!(u?h in t:s.call(t,h)))return!1}var m=a.get(e),f=a.get(t);if(m&&f)return m==t&&f==e;var d=!0;a.set(e,t),a.set(t,e);for(var v=u;++p<l;){var g=e[h=c[p]],y=t[h];if(i)var I=u?i(y,g,h,t,e,a):i(g,y,h,e,t,a);if(!(void 0===I?g===y||o(g,y,r,i,a):I)){d=!1;break}v||(v="constructor"==h)}if(d&&!v){var x=e.constructor,b=t.constructor;x==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof b&&b instanceof b||(d=!1)}return a.delete(e),a.delete(t),d}},4840:e=>{var t="object"==typeof global&&global&&global.Object===Object&&global;e.exports=t},2:(e,t,r)=>{var n=r(2199),s=r(4664),i=r(5950);e.exports=function(e){return n(e,i,s)}},2651:(e,t,r)=>{var n=r(4218);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},776:(e,t,r)=>{var n=r(756),s=r(5950);e.exports=function(e){for(var t=s(e),r=t.length;r--;){var i=t[r],o=e[i];t[r]=[i,o,n(o)]}return t}},6110:(e,t,r)=>{var n=r(5083),s=r(392);e.exports=function(e,t){var r=s(e,t);return n(r)?r:void 0}},659:(e,t,r)=>{var n=r(1873),s=Object.prototype,i=s.hasOwnProperty,o=s.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),r=e[a];try{e[a]=void 0;var n=!0}catch(e){}var s=o.call(e);return n&&(t?e[a]=r:delete e[a]),s}},4664:(e,t,r)=>{var n=r(9770),s=r(3345),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?function(e){return null==e?[]:(e=Object(e),n(o(e),(function(t){return i.call(e,t)})))}:s;e.exports=a},5861:(e,t,r)=>{var n=r(5580),s=r(8223),i=r(2804),o=r(6545),a=r(8303),u=r(2552),c=r(7473),l="[object Map]",p="[object Promise]",h="[object Set]",m="[object WeakMap]",f="[object DataView]",d=c(n),v=c(s),g=c(i),y=c(o),I=c(a),x=u;(n&&x(new n(new ArrayBuffer(1)))!=f||s&&x(new s)!=l||i&&x(i.resolve())!=p||o&&x(new o)!=h||a&&x(new a)!=m)&&(x=function(e){var t=u(e),r="[object Object]"==t?e.constructor:void 0,n=r?c(r):"";if(n)switch(n){case d:return f;case v:return l;case g:return p;case y:return h;case I:return m}return t}),e.exports=x},392:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},9326:(e,t,r)=>{var n=r(1769),s=r(2428),i=r(6449),o=r(361),a=r(294),u=r(7797);e.exports=function(e,t,r){for(var c=-1,l=(t=n(t,e)).length,p=!1;++c<l;){var h=u(t[c]);if(!(p=null!=e&&r(e,h)))break;e=e[h]}return p||++c!=l?p:!!(l=null==e?0:e.length)&&a(l)&&o(h,l)&&(i(e)||s(e))}},2032:(e,t,r)=>{var n=r(1042);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},3862:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6721:(e,t,r)=>{var n=r(1042),s=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return s.call(t,e)?t[e]:void 0}},2749:(e,t,r)=>{var n=r(1042),s=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:s.call(t,e)}},5749:(e,t,r)=>{var n=r(1042);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},361:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},6800:(e,t,r)=>{var n=r(5288),s=r(4894),i=r(361),o=r(3805);e.exports=function(e,t,r){if(!o(r))return!1;var a=typeof t;return!!("number"==a?s(r)&&i(t,r.length):"string"==a&&t in r)&&n(r[t],e)}},8586:(e,t,r)=>{var n=r(6449),s=r(4394),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!s(e))||o.test(e)||!i.test(e)||null!=t&&e in Object(t)}},4218:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},7296:(e,t,r)=>{var n,s=r(5481),i=(n=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!i&&i in e}},5527:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},756:(e,t,r)=>{var n=r(3805);e.exports=function(e){return e==e&&!n(e)}},3702:e=>{e.exports=function(){this.__data__=[],this.size=0}},80:(e,t,r)=>{var n=r(6025),s=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0||(r==t.length-1?t.pop():s.call(t,r,1),--this.size,0))}},4739:(e,t,r)=>{var n=r(6025);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},8655:(e,t,r)=>{var n=r(6025);e.exports=function(e){return n(this.__data__,e)>-1}},1175:(e,t,r)=>{var n=r(6025);e.exports=function(e,t){var r=this.__data__,s=n(r,e);return s<0?(++this.size,r.push([e,t])):r[s][1]=t,this}},3040:(e,t,r)=>{var n=r(1549),s=r(79),i=r(8223);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||s),string:new n}}},7670:(e,t,r)=>{var n=r(2651);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},289:(e,t,r)=>{var n=r(2651);e.exports=function(e){return n(this,e).get(e)}},4509:(e,t,r)=>{var n=r(2651);e.exports=function(e){return n(this,e).has(e)}},2949:(e,t,r)=>{var n=r(2651);e.exports=function(e,t){var r=n(this,e),s=r.size;return r.set(e,t),this.size+=r.size==s?0:1,this}},317:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},7197:e=>{e.exports=function(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}}},2224:(e,t,r)=>{var n=r(104);e.exports=function(e){var t=n(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},1042:(e,t,r)=>{var n=r(6110)(Object,"create");e.exports=n},3650:(e,t,r)=>{var n=r(4335)(Object.keys,Object);e.exports=n},6009:(e,t,r)=>{e=r.nmd(e);var n=r(4840),s=t&&!t.nodeType&&t,i=s&&e&&!e.nodeType&&e,o=i&&i.exports===s&&n.process,a=function(){try{return i&&i.require&&i.require("util").types||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=a},9350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},4335:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},9325:(e,t,r)=>{var n=r(4840),s="object"==typeof self&&self&&self.Object===Object&&self,i=n||s||Function("return this")();e.exports=i},1380:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1459:e=>{e.exports=function(e){return this.__data__.has(e)}},4247:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},1420:(e,t,r)=>{var n=r(79);e.exports=function(){this.__data__=new n,this.size=0}},938:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},3605:e=>{e.exports=function(e){return this.__data__.get(e)}},9817:e=>{e.exports=function(e){return this.__data__.has(e)}},945:(e,t,r)=>{var n=r(79),s=r(8223),i=r(3661);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var o=r.__data__;if(!s||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new i(o)}return r.set(e,t),this.size=r.size,this}},1802:(e,t,r)=>{var n=r(2224),s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(s,(function(e,r,n,s){t.push(n?s.replace(i,"$1"):r||e)})),t}));e.exports=o},7797:(e,t,r)=>{var n=r(4394);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},7473:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},1800:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},6135:(e,t,r)=>{e.exports=r(9754)},5288:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},9747:(e,t,r)=>{var n=r(7277),s=r(3777),i=r(5389),o=r(6449),a=r(6800);e.exports=function(e,t,r){var u=o(e)?n:s;return r&&a(e,t,r)&&(t=void 0),u(e,i(t,3))}},9754:(e,t,r)=>{var n=r(3729),s=r(909),i=r(4066),o=r(6449);e.exports=function(e,t){return(o(e)?n:s)(e,i(t))}},5775:(e,t,r)=>{var n=r(7422);e.exports=function(e,t,r){var s=null==e?void 0:n(e,t);return void 0===s?r:s}},631:(e,t,r)=>{var n=r(8077),s=r(9326);e.exports=function(e,t){return null!=e&&s(e,t,n)}},3488:e=>{e.exports=function(e){return e}},2428:(e,t,r)=>{var n=r(7534),s=r(346),i=Object.prototype,o=i.hasOwnProperty,a=i.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(e){return s(e)&&o.call(e,"callee")&&!a.call(e,"callee")};e.exports=u},6449:e=>{var t=Array.isArray;e.exports=t},4894:(e,t,r)=>{var n=r(1882),s=r(294);e.exports=function(e){return null!=e&&s(e.length)&&!n(e)}},3656:(e,t,r)=>{e=r.nmd(e);var n=r(9325),s=r(9935),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?n.Buffer:void 0,u=(a?a.isBuffer:void 0)||s;e.exports=u},1882:(e,t,r)=>{var n=r(2552),s=r(3805);e.exports=function(e){if(!s(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},294:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},9843:e=>{e.exports=function(e){return null==e}},3805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},5015:(e,t,r)=>{var n=r(2552),s=r(6449),i=r(346);e.exports=function(e){return"string"==typeof e||!s(e)&&i(e)&&"[object String]"==n(e)}},4394:(e,t,r)=>{var n=r(2552),s=r(346);e.exports=function(e){return"symbol"==typeof e||s(e)&&"[object Symbol]"==n(e)}},7167:(e,t,r)=>{var n=r(4901),s=r(7301),i=r(6009),o=i&&i.isTypedArray,a=o?s(o):n;e.exports=a},5950:(e,t,r)=>{var n=r(695),s=r(8984),i=r(4894);e.exports=function(e){return i(e)?n(e):s(e)}},5378:(e,t,r)=>{var n=r(4932),s=r(5389),i=r(5128),o=r(6449);e.exports=function(e,t){return(o(e)?n:i)(e,s(t,3))}},104:(e,t,r)=>{var n=r(3661);function s(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(s.Cache||n),r}s.Cache=n,e.exports=s},583:(e,t,r)=>{var n=r(7237),s=r(7255),i=r(8586),o=r(7797);e.exports=function(e){return i(e)?n(o(e)):s(e)}},3181:(e,t,r)=>{var n=r(5508)();e.exports=n},860:(e,t,r)=>{var n=r(882),s=r(909),i=r(5389),o=r(5558),a=r(6449);e.exports=function(e,t,r){var u=a(e)?n:o,c=arguments.length<3;return u(e,i(t,4),r,c,s)}},2426:(e,t,r)=>{var n=r(4248),s=r(5389),i=r(916),o=r(6449),a=r(6800);e.exports=function(e,t,r){var u=o(e)?n:i;return r&&a(e,t,r)&&(t=void 0),u(e,s(t,3))}},3345:e=>{e.exports=function(){return[]}},9935:e=>{e.exports=function(){return!1}},7400:(e,t,r)=>{var n=r(9374);e.exports=function(e){return e?Infinity===(e=n(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},9374:(e,t,r)=>{var n=r(4128),s=r(3805),i=r(4394),o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(s(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=s(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=a.test(e);return r||u.test(e)?c(e.slice(2),r?2:8):o.test(e)?NaN:+e}},3222:(e,t,r)=>{var n=r(7556);e.exports=function(e){return null==e?"":n(e)}},6585:e=>{var t=1e3,r=60*t,n=60*r,s=24*n;function i(e,t,r,n){var s=t>=1.5*r;return Math.round(e/r)+" "+n+(s?"s":"")}e.exports=function(e,o){o=o||{};var a,u,c=typeof e;if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(i){var o=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return 6048e5*o;case"days":case"day":case"d":return o*s;case"hours":case"hour":case"hrs":case"hr":case"h":return o*n;case"minutes":case"minute":case"mins":case"min":case"m":return o*r;case"seconds":case"second":case"secs":case"sec":case"s":return o*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(e);if("number"===c&&isFinite(e))return o.long?(a=e,(u=Math.abs(a))>=s?i(a,u,s,"day"):u>=n?i(a,u,n,"hour"):u>=r?i(a,u,r,"minute"):u>=t?i(a,u,t,"second"):a+" ms"):function(e){var i=Math.abs(e);return i>=s?Math.round(e/s)+"d":i>=n?Math.round(e/n)+"h":i>=r?Math.round(e/r)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},7687:(e,t,r)=>{"use strict";const n=r(857),s=r(2018),i=r(5884),{env:o}=process;let a;function u(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function c(e,t){if(0===a)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!t&&void 0===a)return 0;const r=a||0;if("dumb"===o.TERM)return r;if("win32"===process.platform){const e=n.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((e=>e in o))||"codeship"===o.CI_NAME?1:r;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){const e=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:r}i("no-color")||i("no-colors")||i("color=false")||i("color=never")?a=0:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(a=1),"FORCE_COLOR"in o&&(a="true"===o.FORCE_COLOR?1:"false"===o.FORCE_COLOR?0:0===o.FORCE_COLOR.length?1:Math.min(parseInt(o.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return u(c(e,e&&e.isTTY))},stdout:u(c(!0,s.isatty(1))),stderr:u(c(!0,s.isatty(2)))}},3684:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getValue=t.getAST=void 0;const n=r(5378),s=r(5018),i=s.default.createSemantics().addOperation("toAST",{_iter(...e){return{type:this.ctorName,value:(0,n.default)(e,(e=>e.toAST()))}},_terminal(){return{type:this.ctorName,value:[this.sourceString]}},_nonterminal(...e){return{type:this.ctorName,value:(0,n.default)(e,(e=>e.toAST()))}}});t.getAST=e=>{try{return i(s.default.match(e.source)).toAST()}catch(e){const t=e instanceof Error?e.message:"Unable to parse regex (probably not supported by this library).";throw new SyntaxError(`Unable to parse regex: ${t}. This is probably a limitation of this library and not an error in the input expression.`)}},t.getValue=e=>"_terminal"===e.type?new String(e.value[0]).toString():(0,n.default)(e.value,(e=>(0,t.getValue)(e))).join("")},8739:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.match=t.postfixToNFA=t.createPostfix=void 0;const n=r(2203),s=r(5753),i=r(6135),o=r(9843),a=r(3181),u=r(2426),c=r(9747),l=r(6449),p=r(860),h=r(5378),m=r(3684),f=(0,s.default)("NFA"),d=(e,t,r,n,s)=>{const o=[...n];return(0,i.default)((0,a.default)(t.charCodeAt(0),r.charCodeAt(0)+1),(t=>{o.push({from:e.type,type:"operand",value:String.fromCharCode(t),notEqual:s}),o.length>1&&o.push({from:e.type,type:"operator",value:"|"})})),o};t.createPostfix=e=>{let t=!1,r=!1;const n=(e,s)=>{switch(e.type){case"expression":{r=0!==e.value[0].value.length;const t=[];return(0,i.default)([e.value[1],...e.value[3].value],((r,i)=>{t.push(...n(r,s)),i>0&&i<=e.value[3].value.length&&t.push({from:e.type,type:"operator",value:"|"})})),t}case"subExpression":{const r=e.value[0].value,o=[];return(0,i.default)(r,((i,a)=>{if(t="$"===(0,m.getValue)(i),t)return!1;o.push(...n(i,s)),a>0&&a<r.length&&o.push({from:e.type,type:"operator",value:"."})})),o}case"characterGroupInner":{const t=e.value[0].value,r=[];return(0,i.default)(t,((i,o)=>{if(s){const t=(0,p.default)(n(i,s),((e,t)=>Object.assign(Object.assign({},e),{value:[...e.value,...t.value]})),{from:e.type,type:"operand",value:[],notEqual:s});0===o?r.push(t):r[0].value=[...r[0].value,...t.value]}else r.push(...n(i,s));!s&&o>0&&o<t.length&&r.push({from:e.type,type:"operator",value:"|"})})),r}case"expressionItem":case"matchCharacterClass":case"characterGroupItem":case"characterRange":case"matchItem":case"group":return n(e.value[0],s);case"groupExpression":{const t=(0,m.getValue)(e.value[4]);return[...n(e.value[2],s),...t?[{from:e.type,type:"operator",value:t}]:[]]}case"match":{const t=(0,m.getValue)(e.value[1]);return[...n(e.value[0],s),...t?[{from:e.type,type:"operator",value:t}]:[]]}case"character":case"characterClass":{let t=(0,m.getValue)(e);if("characterClass"!==e.type)return t=t.replace(/^\\/,""),[{from:e.type,type:"operand",value:t,notEqual:s}];switch(t){case"\\w":{let t=[];return t=d(e,"a","z",t,s),t=d(e,"A","Z",t,s),t=d(e,"0","9",t,s),t.push({from:e.type,type:"operand",value:"_",notEqual:s}),t.push({from:e.type,type:"operator",value:"|"}),t}case"\\W":return[{from:e.type,type:"operand",value:(0,h.default)([...(0,a.default)("a".charCodeAt(0),"z".charCodeAt(0)+1),...(0,a.default)("A".charCodeAt(0),"Z".charCodeAt(0)+1),...(0,a.default)("0".charCodeAt(0),"9".charCodeAt(0)+1),"_".charCodeAt(0)],(e=>String.fromCharCode(e))),notEqual:!0}];case"\\d":return d(e,"0","9",[],s);case"\\D":return[{from:e.type,type:"operand",value:(0,h.default)((0,a.default)("0".charCodeAt(0),"9".charCodeAt(0)+1),(e=>String.fromCharCode(e))),notEqual:!0}];case"\\s":{const t=[];return t.push({from:e.type,type:"operand",value:" ",notEqual:s}),t.push({from:e.type,type:"operand",value:"\t",notEqual:s}),t.push({from:e.type,type:"operator",value:"|"}),t.push({from:e.type,type:"operand",value:"\n",notEqual:s}),t.push({from:e.type,type:"operator",value:"|"}),t.push({from:e.type,type:"operand",value:"\r",notEqual:s}),t.push({from:e.type,type:"operator",value:"|"}),t.push({from:e.type,type:"operand",value:"\f",notEqual:s}),t.push({from:e.type,type:"operator",value:"|"}),t.push({from:e.type,type:"operand",value:"\v",notEqual:s}),t.push({from:e.type,type:"operator",value:"|"}),t}case"\\S":return[{from:e.type,type:"operand",value:[" ","\t","\n","\r","\f","\v"],notEqual:!0}];default:throw new Error(`Do not know how to handle: "${t}"`)}}case"anyChar":return[{from:e.type,type:"operand",value:"",notEqual:!!(0,o.default)(s)||!s}];case"characterGroup":{const t=e.value[1].value[0];return n(e.value[2],!!t||void 0)}case"characterRangeItem":{const t=(0,m.getValue)(e.value[0]),r=(0,m.getValue)(e.value[2]);return d(e,t,r,[],s)}default:throw new Error(`Do not know how to handle: "${e.type}"`)}};return{postfix:n((0,m.getAST)(e),void 0),hasStartMatcher:r,hasEndMatcher:t}};const v=(e,t)=>{(0,i.default)(e,(e=>{null===e.state[e.outAttr]&&(e.state[e.outAttr]=t)}))};t.postfixToNFA=e=>{const t=[];(0,i.default)(e,(e=>{if("operator"===e.type)switch(e.value){case".":{const e=t.pop(),r=t.pop();if(!r||!e)throw new Error("Invalid postfix expression");v(r.out,e.start),t.push({start:r.start,out:e.out})}break;case"|":{const e=t.pop(),r=t.pop();if(!r||!e)throw new Error("Invalid postfix expression");const n={type:"Split",out:r.start,out1:e.start};t.push({start:n,out:[...r.out,...e.out]})}break;case"?":{const e=t.pop();if(!e)throw new Error("Invalid postfix expression");const r={type:"Split",out:e.start,out1:null};t.push({start:r,out:[{state:r,outAttr:"out1"},...e.out]})}break;case"*":{const e=t.pop();if(!e)throw new Error("Invalid postfix expression");const r={type:"Split",out:e.start,out1:null};v(e.out,r),t.push({start:r,out:[{state:r,outAttr:"out1"}]})}break;case"+":{const e=t.pop();if(!e)throw new Error("Invalid postfix expression");const r={type:"Split",out:e.start,out1:null};v(e.out,r),t.push({start:e.start,out:[{state:r,outAttr:"out1"}]})}break;default:throw new Error(`Unknown operator: ${e.value}`)}else{const r={type:"Char",char:e.value,notEqual:e.notEqual,out:null,out1:null};t.push({start:r,out:[{state:r,outAttr:"out"}]})}}));const r=t.pop();if(!r)throw new Error("Invalid postfix expression");return v(r.out,{type:"Match",out:null,out1:null}),r.start},t.match=(e,t,r)=>{let s=1;const o=Object.assign({greedy:!0,global:!1,ignoreCase:!1},r),a=o.onReplace?new n.Readable:void 0;a&&(a._read=()=>{});let p,h=!1,m=!1;const d=(e,t)=>{if(null!==t&&t.lastListID!==s){if(t.lastListID=s,"Split"===t.type)return d(e,t.out),void d(e,t.out1);e.push(t)}},v=(e,t,r,g=0,y="")=>{let I=y;const x=((e,t,r=0,s="")=>{const i=new n.PassThrough;i.push(s.substring(r));let o=s;const a=new n.PassThrough;return a.on("data",(r=>{const n=r.toString();o+=n,t(o),i.writableEnded?e.unpipe(a):i.push(n)})).on("end",(()=>{f("[createPassThroughStream] passThrough stream ended"),i.end()})),e.pipe(a),e.readableEnded&&(f("[createPassThroughStream] input stream already ended"),i.end()),i})(t,(e=>{I=e}),g,I);let b;const _=new Promise((e=>{b=e}));return((e,t,r,n)=>{let a=[];d(a,e);let p,h="",m=!1;t.on("data",(e=>{const n=h.length,v=e.toString();h+=v,(0,i.default)(v,((e,v)=>(m=!0,a=((e,t)=>{f("[step] Step: %o",{listID:s,char:t}),s++;const r=[];return(0,i.default)(e,(e=>{if("Char"===e.type&&e.char){const n=o.ignoreCase?t.toLowerCase():t,s=(0,l.default)(e.char)?e.char:[e.char];(0,c.default)(s,(t=>{const r=o.ignoreCase?t.toLowerCase():t;return e.notEqual?r!==n:r===n}))?(f("[step] Match: %o",e),d(r,e.out)):f("[step] No match: %o",e)}})),f("[step] Next states: %o",r),r})(a,e),(0,u.default)(a,(e=>"Match"===e.type))&&(f("[_doMatchStream] Has match"),p=h.substring(0,n+v+1),!r)?(t.end(),!1):0===a.length?(f("[_doMatchStream] No match - early exit"),t.end(),!1):void 0)))})),t.on("close",(()=>{f("[_doMatchStream] input stream closed: %o",p),n({success:!!p,val:p,close:!m})})),t.on("end",(()=>{f("[_doMatchStream] input stream ended: %o",p),n({success:!!p,val:p,close:!m})}))})(e,x,r.greedy||!1,(({success:e,val:t,close:r})=>{if(f("[doMatchStream] match result: %o",{success:e,val:t}),e&&!t)throw new Error("Invalid state");b({val:t,close:r})})),_.then((({val:n,close:s})=>{var i,o;x.end(),f("[doMatchStream] processing result: %o",{matchedStr:n,strBuffer:I,idx:g});const u=I.substring(g,g+1);let c=u,l=1;n?(l=n.length,c=n,m||!r.global&&h||(r.onReplace&&(c=r.onReplace(n)),r.matchToEnd||null===(i=r.onMatch)||void 0===i||i.call(r,n)),r.matchToEnd||null==a||a.push(c),p=m?`${p||""}${n}`:n,h=!0):(s||(m=!!r.matchFromStart),r.matchToEnd?s||(p&&(null==a||a.push(p)),null==a||a.push(u),p=void 0):null==a||a.push(u)),g+l<=I.length?v(e,t,r,g+l,I):(r.matchToEnd&&(console.log("Matched str",p,m),p&&(null===(o=r.onMatch)||void 0===o||o.call(r,p),null==a||a.push(!m&&r.onReplace?r.onReplace(p):p))),null==a||a.push(null))})),a};return v(e,t,o)}},3592:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamRegex=void 0;const n=r(5753),s=r(5015),i=r(8739),o=(0,n.default)("StreamRegex");t.StreamRegex=class{constructor(e){this.regex=e;const t=(0,i.createPostfix)(e);o("Postfix: %o",t),this.postfix=t.postfix,this.hasStartMatcher=t.hasStartMatcher,this.hasEndMatcher=t.hasEndMatcher;const r=(0,i.postfixToNFA)(this.postfix);if(!r)throw new Error("Failed to build NFA");o("NFA: %o",r),this.nfa=r}match(e,t,r={}){const n=Object.assign({global:this.regex.global,ignoreCase:this.regex.ignoreCase,matchFromStart:this.hasStartMatcher,matchToEnd:this.hasEndMatcher,greedy:!0,onMatch:t},r);(0,i.match)(this.nfa,e,n)}replace(e,t,r={}){const n=Object.assign({global:this.regex.global,ignoreCase:this.regex.ignoreCase,matchFromStart:this.hasStartMatcher,matchToEnd:this.hasEndMatcher,greedy:!0,onReplace:e=>((0,s.default)(t),e.replace(this.regex,t))},r),o=(0,i.match)(this.nfa,e,n);if(!o)throw new Error("Matcher did not return an output stream.");return o}}},5018:(e,t,r)=>{"use strict";const{makeRecipe:n}=r(5212),s=n(["grammar",{source:'RegExp {\n  expression = "^"? (subExpression ( "|" subExpression )*)\n  \n  subExpression = expressionItem*\n  \n  expressionItem\n  \t= anchor\n    | group\n    | match\n//  | Backreference -- Not supported\n\n  group\n  \t= groupExpression\n//  | NamedGroupExpression -- Not supported\n  \n  groupExpression = "(" "?:"? expression ")" quantifier?\n  \n// NamedGroupExpression = NamedGroupPrefix Expression ")" Quantifier?\n   \n  match = matchItem quantifier?\n\n  matchItem = anyChar | matchCharacterClass | character\n\n  anyChar = "."\n  \n  escapeCharacter = "\\\\"\n\n  specialCharacter = anyChar | "^" | "*" | "?" | "+" | "\\\\" | "[" | "]" | "(" | ")" | "\\\\\\\\" | "|"\n  \n  characterClass = "\\\\w" | "\\\\W" | "\\\\d" | "\\\\D" | "\\\\s" | "\\\\S"\n\n  baseCharacter = ~specialCharacter any\n  \n  character = escapeCharacter specialCharacter | escapeCharacter? baseCharacter\n  \n  matchCharacterClass = characterGroup | characterClass\n  \n  characterGroup = "[" "^"? characterGroupInner "]"\n  \n  characterGroupInner = characterGroupItem*\n  \n  characterGroupItem = characterClass | characterRange | character | anyChar\n  \n  characterRange = characterRangeItem\n  \n  characterRangeItem = alnum "-" alnum\n\n  anchor = "$"\n  \n  quantifier = quantifierType "?"?\n  \n  quantifierType\n    = "*"\n    | "+"\n    | "?"\n//  | matchCount1\n//  | matchCount2\n  \n// matchCount1 = "{" digit+ "}"\n  \n// matchCount2 = "{" digit+ "," (digit+)? "}"\n}'},"RegExp",null,"expression",{expression:["define",{sourceInterval:[11,67]},null,[],["seq",{sourceInterval:[24,67]},["opt",{sourceInterval:[24,28]},["terminal",{sourceInterval:[24,27]},"^"]],["app",{sourceInterval:[30,43]},"subExpression",[]],["star",{sourceInterval:[44,66]},["seq",{sourceInterval:[46,63]},["terminal",{sourceInterval:[46,49]},"|"],["app",{sourceInterval:[50,63]},"subExpression",[]]]]]],subExpression:["define",{sourceInterval:[73,104]},null,[],["star",{sourceInterval:[89,104]},["app",{sourceInterval:[89,103]},"expressionItem",[]]]],expressionItem:["define",{sourceInterval:[110,160]},null,[],["alt",{sourceInterval:[130,160]},["app",{sourceInterval:[130,136]},"anchor",[]],["app",{sourceInterval:[143,148]},"group",[]],["app",{sourceInterval:[155,160]},"match",[]]]],group:["define",{sourceInterval:[201,227]},null,[],["app",{sourceInterval:[212,227]},"groupExpression",[]]],groupExpression:["define",{sourceInterval:[277,331]},null,[],["seq",{sourceInterval:[295,331]},["terminal",{sourceInterval:[295,298]},"("],["opt",{sourceInterval:[299,304]},["terminal",{sourceInterval:[299,303]},"?:"]],["app",{sourceInterval:[305,315]},"expression",[]],["terminal",{sourceInterval:[316,319]},")"],["opt",{sourceInterval:[320,331]},["app",{sourceInterval:[320,330]},"quantifier",[]]]]],match:["define",{sourceInterval:[411,440]},null,[],["seq",{sourceInterval:[419,440]},["app",{sourceInterval:[419,428]},"matchItem",[]],["opt",{sourceInterval:[429,440]},["app",{sourceInterval:[429,439]},"quantifier",[]]]]],matchItem:["define",{sourceInterval:[444,497]},null,[],["alt",{sourceInterval:[456,497]},["app",{sourceInterval:[456,463]},"anyChar",[]],["app",{sourceInterval:[466,485]},"matchCharacterClass",[]],["app",{sourceInterval:[488,497]},"character",[]]]],anyChar:["define",{sourceInterval:[501,514]},null,[],["terminal",{sourceInterval:[511,514]},"."]],escapeCharacter:["define",{sourceInterval:[520,542]},null,[],["terminal",{sourceInterval:[538,542]},"\\"]],specialCharacter:["define",{sourceInterval:[546,642]},null,[],["alt",{sourceInterval:[565,642]},["app",{sourceInterval:[565,572]},"anyChar",[]],["terminal",{sourceInterval:[575,578]},"^"],["terminal",{sourceInterval:[581,584]},"*"],["terminal",{sourceInterval:[587,590]},"?"],["terminal",{sourceInterval:[593,596]},"+"],["terminal",{sourceInterval:[599,603]},"\\"],["terminal",{sourceInterval:[606,609]},"["],["terminal",{sourceInterval:[612,615]},"]"],["terminal",{sourceInterval:[618,621]},"("],["terminal",{sourceInterval:[624,627]},")"],["terminal",{sourceInterval:[630,636]},"\\\\"],["terminal",{sourceInterval:[639,642]},"|"]]],characterClass:["define",{sourceInterval:[648,710]},null,[],["alt",{sourceInterval:[665,710]},["terminal",{sourceInterval:[665,670]},"\\w"],["terminal",{sourceInterval:[673,678]},"\\W"],["terminal",{sourceInterval:[681,686]},"\\d"],["terminal",{sourceInterval:[689,694]},"\\D"],["terminal",{sourceInterval:[697,702]},"\\s"],["terminal",{sourceInterval:[705,710]},"\\S"]]],baseCharacter:["define",{sourceInterval:[714,751]},null,[],["seq",{sourceInterval:[730,751]},["not",{sourceInterval:[730,747]},["app",{sourceInterval:[731,747]},"specialCharacter",[]]],["app",{sourceInterval:[748,751]},"any",[]]]],character:["define",{sourceInterval:[757,834]},null,[],["alt",{sourceInterval:[769,834]},["seq",{sourceInterval:[769,801]},["app",{sourceInterval:[769,784]},"escapeCharacter",[]],["app",{sourceInterval:[785,801]},"specialCharacter",[]]],["seq",{sourceInterval:[804,834]},["opt",{sourceInterval:[804,820]},["app",{sourceInterval:[804,819]},"escapeCharacter",[]]],["app",{sourceInterval:[821,834]},"baseCharacter",[]]]]],matchCharacterClass:["define",{sourceInterval:[840,893]},null,[],["alt",{sourceInterval:[862,893]},["app",{sourceInterval:[862,876]},"characterGroup",[]],["app",{sourceInterval:[879,893]},"characterClass",[]]]],characterGroup:["define",{sourceInterval:[899,948]},null,[],["seq",{sourceInterval:[916,948]},["terminal",{sourceInterval:[916,919]},"["],["opt",{sourceInterval:[920,924]},["terminal",{sourceInterval:[920,923]},"^"]],["app",{sourceInterval:[925,944]},"characterGroupInner",[]],["terminal",{sourceInterval:[945,948]},"]"]]],characterGroupInner:["define",{sourceInterval:[954,995]},null,[],["star",{sourceInterval:[976,995]},["app",{sourceInterval:[976,994]},"characterGroupItem",[]]]],characterGroupItem:["define",{sourceInterval:[1001,1075]},null,[],["alt",{sourceInterval:[1022,1075]},["app",{sourceInterval:[1022,1036]},"characterClass",[]],["app",{sourceInterval:[1039,1053]},"characterRange",[]],["app",{sourceInterval:[1056,1065]},"character",[]],["app",{sourceInterval:[1068,1075]},"anyChar",[]]]],characterRange:["define",{sourceInterval:[1081,1116]},null,[],["app",{sourceInterval:[1098,1116]},"characterRangeItem",[]]],characterRangeItem:["define",{sourceInterval:[1122,1158]},null,[],["seq",{sourceInterval:[1143,1158]},["app",{sourceInterval:[1143,1148]},"alnum",[]],["terminal",{sourceInterval:[1149,1152]},"-"],["app",{sourceInterval:[1153,1158]},"alnum",[]]]],anchor:["define",{sourceInterval:[1162,1174]},null,[],["terminal",{sourceInterval:[1171,1174]},"$"]],quantifier:["define",{sourceInterval:[1180,1212]},null,[],["seq",{sourceInterval:[1193,1212]},["app",{sourceInterval:[1193,1207]},"quantifierType",[]],["opt",{sourceInterval:[1208,1212]},["terminal",{sourceInterval:[1208,1211]},"?"]]]],quantifierType:["define",{sourceInterval:[1218,1262]},null,[],["alt",{sourceInterval:[1239,1262]},["terminal",{sourceInterval:[1239,1242]},"*"],["terminal",{sourceInterval:[1249,1252]},"+"],["terminal",{sourceInterval:[1259,1262]},"?"]]]}]);e.exports=s},857:e=>{"use strict";e.exports=require("os")},2203:e=>{"use strict";e.exports=require("stream")},2018:e=>{"use strict";e.exports=require("tty")},9023:e=>{"use strict";e.exports=require("util")},5212:(e,t)=>{"use strict";function r(e){const t=e||"";return function(){throw new Error("this method "+t+" is abstract! (it has no implementation in class "+this.constructor.name+")")}}function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function s(e,t,r){let n;Object.defineProperty(e,t,{get(){return n||(n=r.call(this)),n}})}function i(e,t){const r=[];for(;t-- >0;)r.push(e());return r}function o(e,t){return new Array(t+1).join(e)}function a(e,t){return i((()=>e),t)}function u(e){const t=[];for(let r=0;r<e.length;r++){const n=e[r];e.lastIndexOf(n)!==r&&t.indexOf(n)<0&&t.push(n)}return t}function c(e){const t=[];return e.forEach((e=>{t.indexOf(e)<0&&t.push(e)})),t}function l(e){const t=e[0];return t===t.toUpperCase()}function p(e){return!l(e)}function h(e,t,r){const n=r||" ";return e.length<t?o(n,t-e.length)+e:e}function m(){this.strings=[]}Object.defineProperty(t,"__esModule",{value:!0}),m.prototype.append=function(e){this.strings.push(e)},m.prototype.contents=function(){return this.strings.join("")};const f=e=>String.fromCodePoint(parseInt(e,16));function d(e){if("\\"!==e.charAt(0))return e;switch(e.charAt(1)){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case"v":return"\v";case"x":return f(e.slice(2,4));case"u":return"{"===e.charAt(2)?f(e.slice(3,-1)):f(e.slice(2,6));default:return e.charAt(1)}}function v(e){if(null==e)return String(e);const t=Object.prototype.toString.call(e);try{let r;return r=e.constructor&&e.constructor.name?e.constructor.name:0===t.indexOf("[object ")?t.slice(8,-1):typeof e,r+": "+JSON.stringify(String(e))}catch(e){return t}}var g=Object.freeze({__proto__:null,abstract:r,assert:n,defineLazyProperty:s,clone:function(e){return e?Object.assign({},e):e},repeatFn:i,repeatStr:o,repeat:a,getDuplicates:u,copyWithoutDuplicates:c,isSyntactic:l,isLexical:p,padLeft:h,StringBuffer:m,unescapeCodePoint:d,unexpectedObjToString:v});const y={Lu:/\p{Lu}/u,Ll:/\p{Ll}/u,Lt:/\p{Lt}/u,Lm:/\p{Lm}/u,Lo:/\p{Lo}/u,Nl:/\p{Nl}/u,Nd:/\p{Nd}/u,Mn:/\p{Mn}/u,Mc:/\p{Mc}/u,Pc:/\p{Pc}/u,Zs:/\p{Zs}/u,L:/\p{Letter}/u,Ltmo:/\p{Lt}|\p{Lm}|\p{Lo}/u};class I{constructor(){if(this.constructor===I)throw new Error("PExpr cannot be instantiated -- it's abstract")}withSource(e){return e&&(this.source=e.trimmed()),this}}const x=Object.create(I.prototype),b=Object.create(I.prototype);class _ extends I{constructor(e){super(),this.obj=e}}class S extends I{constructor(e,t){super(),this.from=e,this.to=t,this.matchCodePoint=e.length>1||t.length>1}}class w extends I{constructor(e){super(),this.index=e}}class C extends I{constructor(e){super(),this.terms=e}}class A extends C{constructor(e,t,r){super([r,e.rules[t].body]),this.superGrammar=e,this.name=t,this.body=r}}class O extends C{constructor(e,t,r,n){const s=e.rules[t].body;super([...r,s,...n]),this.superGrammar=e,this.ruleName=t,this.expansionPos=r.length}}class F extends I{constructor(e){super(),this.factors=e}}class R extends I{constructor(e){super(),this.expr=e}}class E extends R{}class N extends R{}class L extends R{}E.prototype.operator="*",N.prototype.operator="+",L.prototype.operator="?",E.prototype.minNumMatches=0,N.prototype.minNumMatches=1,L.prototype.minNumMatches=0,E.prototype.maxNumMatches=Number.POSITIVE_INFINITY,N.prototype.maxNumMatches=Number.POSITIVE_INFINITY,L.prototype.maxNumMatches=1;class P extends I{constructor(e){super(),this.expr=e}}class j extends I{constructor(e){super(),this.expr=e}}class T extends I{constructor(e){super(),this.expr=e}}class k extends I{constructor(e,t=[]){super(),this.ruleName=e,this.args=t}isSyntactic(){return l(this.ruleName)}toMemoKey(){return this._memoKey||Object.defineProperty(this,"_memoKey",{value:this.toString()}),this._memoKey}}class M extends I{constructor(e){super(),this.category=e,this.pattern=y[e]}}function D(e,t){let r;return t?(r=new Error(t.getLineAndColumnMessage()+e),r.shortMessage=e,r.interval=t):r=new Error(e),r}function q(){return D("Interval sources don't match")}function G(e,t,r){return D("Rule "+e+" is not declared in grammar "+t,r)}function B(e,t,r,n){let s="Duplicate declaration for rule '"+e+"' in grammar '"+t+"'";return t!==r&&(s+=" (originally declared in '"+r+"')"),D(s,n)}function z(e,t,r,n){return D("Wrong number of parameters for rule "+e+" (expected "+t+", got "+r+")",n)}function $(e,t,r){return D("Duplicate parameter names in rule "+e+": "+t.join(", "),r)}function U(e,t){return D("Incorrect argument type: expected "+e,t.source)}function V(e,t){const r=t.length>0?t[t.length-1].args:[];let n="Nullable expression "+e.expr.substituteParams(r)+" is not allowed inside '"+e.operator+"' (possible infinite loop)";return t.length>0&&(n+="\nApplication stack (most recent application last):\n"+t.map((e=>new k(e.ruleName,e.args))).join("\n")),D(n,e.expr.source)}function K(e,t,r,n){return D("Rule "+e+" involves an alternation which has inconsistent arity (expected "+t+", got "+r+")",n.source)}function H(e,t,r){const n=e.length;return(e.slice(0,r)+t+e.slice(r+t.length)).substr(0,n)}function W(...e){const t=this,{offset:r}=t,{repeatStr:s}=g,i=new m;i.append("Line "+t.lineNum+", col "+t.colNum+":\n");const o=function(e){let t=0;return e.map((e=>{const r=e.toString();return t=Math.max(t,r.length),r})).map((e=>h(e,t)))}([null==t.prevLine?0:t.lineNum-1,t.lineNum,null==t.nextLine?0:t.lineNum+1]),a=(e,t,r)=>{i.append(r+o[e]+" | "+t+"\n")};null!=t.prevLine&&a(0,t.prevLine,"  "),a(1,t.line,"> ");const u=t.line.length;let c=s(" ",u+1);for(let i=0;i<e.length;++i){let o=e[i][0],a=e[i][1];n(o>=0&&o<=a,"range start must be >= 0 and <= end");const l=r-t.colNum+1;o=Math.max(0,o-l),a=Math.min(a-l,u),c=H(c,s("~",a-o),o)}const l=2+o[1].length+3;return i.append(s(" ",l)),c=H(c,"^",t.colNum-1),i.append(c.replace(/ +$/,"")+"\n"),null!=t.nextLine&&a(2,t.nextLine,"  "),i.contents()}let J=[];function Z(e){J.push(e)}function Q(e,t){let r=1,n=1,s=0,i=0,o=null,a=null,u=-1;for(;s<t;){const t=e.charAt(s++);"\n"===t?(r++,n=1,u=i,i=s):"\r"!==t&&n++}let c=e.indexOf("\n",i);if(-1===c)c=e.length;else{const t=e.indexOf("\n",c+1);o=-1===t?e.slice(c):e.slice(c,t),o=o.replace(/^\r?\n/,"").replace(/\r$/,"")}return u>=0&&(a=e.slice(u,i).replace(/\r?\n$/,"")),{offset:t,lineNum:r,colNum:n,line:e.slice(i,c).replace(/\r$/,""),prevLine:a,nextLine:o,toString:W}}function Y(e,t,...r){return Q(e,t).toString(...r)}const X=(()=>{let e=0;return t=>""+t+e++})();class ee{constructor(e,t,r){this.sourceString=e,this.startIdx=t,this.endIdx=r}get contents(){return void 0===this._contents&&(this._contents=this.sourceString.slice(this.startIdx,this.endIdx)),this._contents}get length(){return this.endIdx-this.startIdx}coverageWith(...e){return ee.coverage(...e,this)}collapsedLeft(){return new ee(this.sourceString,this.startIdx,this.startIdx)}collapsedRight(){return new ee(this.sourceString,this.endIdx,this.endIdx)}getLineAndColumn(){return Q(this.sourceString,this.startIdx)}getLineAndColumnMessage(){const e=[this.startIdx,this.endIdx];return Y(this.sourceString,this.startIdx,e)}minus(e){if(this.sourceString!==e.sourceString)throw q();return this.startIdx===e.startIdx&&this.endIdx===e.endIdx?[]:this.startIdx<e.startIdx&&e.endIdx<this.endIdx?[new ee(this.sourceString,this.startIdx,e.startIdx),new ee(this.sourceString,e.endIdx,this.endIdx)]:this.startIdx<e.endIdx&&e.endIdx<this.endIdx?[new ee(this.sourceString,e.endIdx,this.endIdx)]:this.startIdx<e.startIdx&&e.startIdx<this.endIdx?[new ee(this.sourceString,this.startIdx,e.startIdx)]:[this]}relativeTo(e){if(this.sourceString!==e.sourceString)throw q();return n(this.startIdx>=e.startIdx&&this.endIdx<=e.endIdx,"other interval does not cover this one"),new ee(this.sourceString,this.startIdx-e.startIdx,this.endIdx-e.startIdx)}trimmed(){const{contents:e}=this,t=this.startIdx+e.match(/^\s*/)[0].length,r=this.endIdx-e.match(/\s*$/)[0].length;return new ee(this.sourceString,t,r)}subInterval(e,t){const r=this.startIdx+e;return new ee(this.sourceString,r,r+t)}}ee.coverage=function(e,...t){let{startIdx:r,endIdx:n}=e;for(const s of t){if(s.sourceString!==e.sourceString)throw q();r=Math.min(r,s.startIdx),n=Math.max(n,s.endIdx)}return new ee(e.sourceString,r,n)};class te{constructor(e){this.source=e,this.pos=0,this.examinedLength=0}atEnd(){const e=this.pos>=this.source.length;return this.examinedLength=Math.max(this.examinedLength,this.pos+1),e}next(){const e=this.source[this.pos++];return this.examinedLength=Math.max(this.examinedLength,this.pos),e}nextCharCode(){const e=this.next();return e&&e.charCodeAt(0)}nextCodePoint(){const e=this.source.slice(this.pos++).codePointAt(0);return e>65535&&(this.pos+=1),this.examinedLength=Math.max(this.examinedLength,this.pos),e}matchString(e,t){let r;if(t){for(r=0;r<e.length;r++){const t=this.next(),n=e[r];if(null==t||t.toUpperCase()!==n.toUpperCase())return!1}return!0}for(r=0;r<e.length;r++)if(this.next()!==e[r])return!1;return!0}sourceSlice(e,t){return this.source.slice(e,t)}interval(e,t){return new ee(this.source,e,t||this.pos)}}class re{constructor(e,t,r,n,i,o,a){this.matcher=e,this.input=t,this.startExpr=r,this._cst=n,this._cstOffset=i,this._rightmostFailurePosition=o,this._rightmostFailures=a,this.failed()&&(s(this,"message",(function(){const e="Expected "+this.getExpectedText();return Y(this.input,this.getRightmostFailurePosition())+e})),s(this,"shortMessage",(function(){const e="expected "+this.getExpectedText(),t=Q(this.input,this.getRightmostFailurePosition());return"Line "+t.lineNum+", col "+t.colNum+": "+e})))}succeeded(){return!!this._cst}failed(){return!this.succeeded()}getRightmostFailurePosition(){return this._rightmostFailurePosition}getRightmostFailures(){if(!this._rightmostFailures){this.matcher.setInput(this.input);const e=this.matcher._match(this.startExpr,{tracing:!1,positionToRecordFailures:this.getRightmostFailurePosition()});this._rightmostFailures=e.getRightmostFailures()}return this._rightmostFailures}toString(){return this.succeeded()?"[match succeeded]":"[match failed at position "+this.getRightmostFailurePosition()+"]"}getExpectedText(){if(this.succeeded())throw new Error("cannot get expected text of a successful MatchResult");const e=new m;let t=this.getRightmostFailures();t=t.filter((e=>!e.isFluffy()));for(let r=0;r<t.length;r++)r>0&&(r===t.length-1?e.append(t.length>2?", or ":" or "):e.append(", ")),e.append(t[r].toString());return e.contents()}getInterval(){const e=this.getRightmostFailurePosition();return new ee(this.input,e,e)}}class ne{constructor(){this.applicationMemoKeyStack=[],this.memo={},this.maxExaminedLength=0,this.maxRightmostFailureOffset=-1,this.currentLeftRecursion=void 0}isActive(e){return this.applicationMemoKeyStack.indexOf(e.toMemoKey())>=0}enter(e){this.applicationMemoKeyStack.push(e.toMemoKey())}exit(){this.applicationMemoKeyStack.pop()}startLeftRecursion(e,t){t.isLeftRecursion=!0,t.headApplication=e,t.nextLeftRecursion=this.currentLeftRecursion,this.currentLeftRecursion=t;const{applicationMemoKeyStack:r}=this,n=r.indexOf(e.toMemoKey())+1,s=r.slice(n);t.isInvolved=function(e){return s.indexOf(e)>=0},t.updateInvolvedApplicationMemoKeys=function(){for(let e=n;e<r.length;e++){const t=r[e];this.isInvolved(t)||s.push(t)}}}endLeftRecursion(){this.currentLeftRecursion=this.currentLeftRecursion.nextLeftRecursion}shouldUseMemoizedResult(e){if(!e.isLeftRecursion)return!0;const{applicationMemoKeyStack:t}=this;for(let r=0;r<t.length;r++){const n=t[r];if(e.isInvolved(n))return!1}return!0}memoize(e,t){return this.memo[e]=t,this.maxExaminedLength=Math.max(this.maxExaminedLength,t.examinedLength),this.maxRightmostFailureOffset=Math.max(this.maxRightmostFailureOffset,t.rightmostFailureOffset),t}clearObsoleteEntries(e,t){if(e+this.maxExaminedLength<=t)return;const{memo:r}=this;this.maxExaminedLength=0,this.maxRightmostFailureOffset=-1,Object.keys(r).forEach((n=>{const s=r[n];e+s.examinedLength>t?delete r[n]:(this.maxExaminedLength=Math.max(this.maxExaminedLength,s.examinedLength),this.maxRightmostFailureOffset=Math.max(this.maxRightmostFailureOffset,s.rightmostFailureOffset))}))}}const se={succeeded:1,isRootNode:2,isImplicitSpaces:4,isMemoized:8,isHeadOfLeftRecursion:16,terminatesLR:32};function ie(e){return"string"==typeof e?e.replace(/ /g,"⋅").replace(/\t/g,"␉").replace(/\n/g,"␊").replace(/\r/g,"␍"):String(e)}class oe{constructor(e,t,r,n,s,i,o){this.input=e,this.pos=this.pos1=t,this.pos2=r,this.source=new ee(e,t,r),this.expr=n,this.bindings=i,this.children=o||[],this.terminatingLREntry=null,this._flags=s?se.succeeded:0}get displayString(){return this.expr.toDisplayString()}clone(){return this.cloneWithExpr(this.expr)}cloneWithExpr(e){const t=new oe(this.input,this.pos,this.pos2,e,this.succeeded,this.bindings,this.children);return t.isHeadOfLeftRecursion=this.isHeadOfLeftRecursion,t.isImplicitSpaces=this.isImplicitSpaces,t.isMemoized=this.isMemoized,t.isRootNode=this.isRootNode,t.terminatesLR=this.terminatesLR,t.terminatingLREntry=this.terminatingLREntry,t}recordLRTermination(e,t){this.terminatingLREntry=new oe(this.input,this.pos,this.pos2,this.expr,!1,[t],[e]),this.terminatingLREntry.terminatesLR=!0}walk(e,t){let r=e;function n(e,s,i){let o=!0;r.enter&&r.enter.call(t,e,s,i)===oe.prototype.SKIP&&(o=!1),o&&(e.children.forEach((t=>{n(t,e,i+1)})),r.exit&&r.exit.call(t,e,s,i))}"function"==typeof r&&(r={enter:r}),this.isRootNode?this.children.forEach((e=>{n(e,null,0)})):n(this,null,0)}toString(){const e=new m;return this.walk(((t,r,n)=>{if(!t)return this.SKIP;if("Alt"!==t.expr.constructor.name){if(e.append(function(e,t,r){const n=ie(e.slice(t,t+10));return n.length<10?n+a(" ",10-n.length).join(""):n}(t.input,t.pos)+a(" ",2*n+1).join("")),e.append((t.succeeded?"✓":"✗")+" "+t.displayString),t.isHeadOfLeftRecursion&&e.append(" (LR)"),t.succeeded){const r=ie(t.source.contents);e.append(" ⇒  "),e.append("string"==typeof r?'"'+r+'"':r)}e.append("\n")}})),e.contents()}}let ae,ue;oe.prototype.SKIP={},Object.keys(se).forEach((e=>{const t=se[e];Object.defineProperty(oe.prototype,e,{get(){return 0!=(this._flags&t)},set(e){e?this._flags|=t:this._flags&=~t}})})),I.prototype.allowsSkippingPrecedingSpace=r("allowsSkippingPrecedingSpace"),x.allowsSkippingPrecedingSpace=b.allowsSkippingPrecedingSpace=k.prototype.allowsSkippingPrecedingSpace=_.prototype.allowsSkippingPrecedingSpace=S.prototype.allowsSkippingPrecedingSpace=M.prototype.allowsSkippingPrecedingSpace=function(){return!0},C.prototype.allowsSkippingPrecedingSpace=R.prototype.allowsSkippingPrecedingSpace=T.prototype.allowsSkippingPrecedingSpace=j.prototype.allowsSkippingPrecedingSpace=P.prototype.allowsSkippingPrecedingSpace=w.prototype.allowsSkippingPrecedingSpace=F.prototype.allowsSkippingPrecedingSpace=function(){return!1},Z((e=>{ae=e})),I.prototype.assertAllApplicationsAreValid=function(e,t){ue=0,this._assertAllApplicationsAreValid(e,t)},I.prototype._assertAllApplicationsAreValid=r("_assertAllApplicationsAreValid"),x._assertAllApplicationsAreValid=b._assertAllApplicationsAreValid=_.prototype._assertAllApplicationsAreValid=S.prototype._assertAllApplicationsAreValid=w.prototype._assertAllApplicationsAreValid=M.prototype._assertAllApplicationsAreValid=function(e,t){},T.prototype._assertAllApplicationsAreValid=function(e,t){ue++,this.expr._assertAllApplicationsAreValid(e,t),ue--},C.prototype._assertAllApplicationsAreValid=function(e,t){for(let r=0;r<this.terms.length;r++)this.terms[r]._assertAllApplicationsAreValid(e,t)},F.prototype._assertAllApplicationsAreValid=function(e,t){for(let r=0;r<this.factors.length;r++)this.factors[r]._assertAllApplicationsAreValid(e,t)},R.prototype._assertAllApplicationsAreValid=P.prototype._assertAllApplicationsAreValid=j.prototype._assertAllApplicationsAreValid=function(e,t){this.expr._assertAllApplicationsAreValid(e,t)},k.prototype._assertAllApplicationsAreValid=function(e,t,r=!1){const n=t.rules[this.ruleName],s=l(e)&&0===ue;if(!n)throw G(this.ruleName,t.name,this.source);if(!r&&l(this.ruleName)&&!s)throw function(e,t){return D("Cannot apply syntactic rule "+e+" from here (inside a lexical context)",t.source)}(this.ruleName,this);const i=this.args.length,o=n.formals.length;if(i!==o)throw function(e,t,r,n){return D("Wrong number of arguments for rule "+e+" (expected "+t+", got "+r+")",n)}(this.ruleName,o,i,this.source);const a=ae&&n===ae.rules.applySyntactic;if(ae&&n===ae.rules.caseInsensitive&&!(this.args[0]instanceof _))throw U('a Terminal (e.g. "abc")',this.args[0]);if(a){const e=this.args[0];if(!(e instanceof k))throw U("a syntactic rule application",e);if(!l(e.ruleName))throw function(e){const{ruleName:t}=e;return D(`applySyntactic is for syntactic rules, but '${t}' is a lexical rule. NOTE: A _syntactic rule_ is a rule whose name begins with a capital letter. See https://ohmjs.org/d/svl for more details.`,e.source)}(e);if(s)throw D("applySyntactic is not required here (in a syntactic context)",this.source)}this.args.forEach((r=>{if(r._assertAllApplicationsAreValid(e,t,a),1!==r.getArity())throw function(e,t){return D("Invalid parameter to rule "+e+": "+t+" has arity "+t.getArity()+", but parameter expressions must have arity 1",t.source)}(this.ruleName,r)}))},I.prototype.assertChoicesHaveUniformArity=r("assertChoicesHaveUniformArity"),x.assertChoicesHaveUniformArity=b.assertChoicesHaveUniformArity=_.prototype.assertChoicesHaveUniformArity=S.prototype.assertChoicesHaveUniformArity=w.prototype.assertChoicesHaveUniformArity=T.prototype.assertChoicesHaveUniformArity=M.prototype.assertChoicesHaveUniformArity=function(e){},C.prototype.assertChoicesHaveUniformArity=function(e){if(0===this.terms.length)return;const t=this.terms[0].getArity();for(let r=0;r<this.terms.length;r++){const n=this.terms[r];n.assertChoicesHaveUniformArity();const s=n.getArity();if(t!==s)throw K(e,t,s,n)}},A.prototype.assertChoicesHaveUniformArity=function(e){const t=this.terms[0].getArity(),r=this.terms[1].getArity();if(t!==r)throw K(e,r,t,this.terms[0])},F.prototype.assertChoicesHaveUniformArity=function(e){for(let t=0;t<this.factors.length;t++)this.factors[t].assertChoicesHaveUniformArity(e)},R.prototype.assertChoicesHaveUniformArity=function(e){this.expr.assertChoicesHaveUniformArity(e)},P.prototype.assertChoicesHaveUniformArity=function(e){},j.prototype.assertChoicesHaveUniformArity=function(e){this.expr.assertChoicesHaveUniformArity(e)},k.prototype.assertChoicesHaveUniformArity=function(e){},I.prototype.assertIteratedExprsAreNotNullable=r("assertIteratedExprsAreNotNullable"),x.assertIteratedExprsAreNotNullable=b.assertIteratedExprsAreNotNullable=_.prototype.assertIteratedExprsAreNotNullable=S.prototype.assertIteratedExprsAreNotNullable=w.prototype.assertIteratedExprsAreNotNullable=M.prototype.assertIteratedExprsAreNotNullable=function(e){},C.prototype.assertIteratedExprsAreNotNullable=function(e){for(let t=0;t<this.terms.length;t++)this.terms[t].assertIteratedExprsAreNotNullable(e)},F.prototype.assertIteratedExprsAreNotNullable=function(e){for(let t=0;t<this.factors.length;t++)this.factors[t].assertIteratedExprsAreNotNullable(e)},R.prototype.assertIteratedExprsAreNotNullable=function(e){if(this.expr.assertIteratedExprsAreNotNullable(e),this.expr.isNullable(e))throw V(this,[])},L.prototype.assertIteratedExprsAreNotNullable=P.prototype.assertIteratedExprsAreNotNullable=j.prototype.assertIteratedExprsAreNotNullable=T.prototype.assertIteratedExprsAreNotNullable=function(e){this.expr.assertIteratedExprsAreNotNullable(e)},k.prototype.assertIteratedExprsAreNotNullable=function(e){this.args.forEach((t=>{t.assertIteratedExprsAreNotNullable(e)}))};class ce{constructor(e){this.matchLength=e}get ctorName(){throw new Error("subclass responsibility")}numChildren(){return this.children?this.children.length:0}childAt(e){if(this.children)return this.children[e]}indexOfChild(e){return this.children.indexOf(e)}hasChildren(){return this.numChildren()>0}hasNoChildren(){return!this.hasChildren()}onlyChild(){if(1!==this.numChildren())throw new Error("cannot get only child of a node of type "+this.ctorName+" (it has "+this.numChildren()+" children)");return this.firstChild()}firstChild(){if(this.hasNoChildren())throw new Error("cannot get first child of a "+this.ctorName+" node, which has no children");return this.childAt(0)}lastChild(){if(this.hasNoChildren())throw new Error("cannot get last child of a "+this.ctorName+" node, which has no children");return this.childAt(this.numChildren()-1)}childBefore(e){const t=this.indexOfChild(e);if(t<0)throw new Error("Node.childBefore() called w/ an argument that is not a child");if(0===t)throw new Error("cannot get child before first child");return this.childAt(t-1)}childAfter(e){const t=this.indexOfChild(e);if(t<0)throw new Error("Node.childAfter() called w/ an argument that is not a child");if(t===this.numChildren()-1)throw new Error("cannot get child after last child");return this.childAt(t+1)}isTerminal(){return!1}isNonterminal(){return!1}isIteration(){return!1}isOptional(){return!1}}class le extends ce{get ctorName(){return"_terminal"}isTerminal(){return!0}get primitiveValue(){throw new Error("The `primitiveValue` property was removed in Ohm v17.")}}class pe extends ce{constructor(e,t,r,n){super(n),this.ruleName=e,this.children=t,this.childOffsets=r}get ctorName(){return this.ruleName}isNonterminal(){return!0}isLexical(){return p(this.ctorName)}isSyntactic(){return l(this.ctorName)}}class he extends ce{constructor(e,t,r,n){super(r),this.children=e,this.childOffsets=t,this.optional=n}get ctorName(){return"_iter"}isIteration(){return!0}isOptional(){return this.optional}}function me(e,t){const r={};if(e.source&&t){const n=e.source.relativeTo(t);r.sourceInterval=[n.startIdx,n.endIdx]}return r}function fe(e){return/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)}function de(e){const t=Object.create(null);e.forEach((e=>{t[e]=(t[e]||0)+1})),Object.keys(t).forEach((r=>{if(t[r]<=1)return;let n=1;e.forEach(((t,s)=>{t===r&&(e[s]=t+"_"+n++)}))}))}I.prototype.eval=r("eval"),x.eval=function(e){const{inputStream:t}=e,r=t.pos,n=t.nextCodePoint();return void 0!==n?(e.pushBinding(new le(String.fromCodePoint(n).length),r),!0):(e.processFailure(r,this),!1)},b.eval=function(e){const{inputStream:t}=e,r=t.pos;return t.atEnd()?(e.pushBinding(new le(0),r),!0):(e.processFailure(r,this),!1)},_.prototype.eval=function(e){const{inputStream:t}=e,r=t.pos;return t.matchString(this.obj)?(e.pushBinding(new le(this.obj.length),r),!0):(e.processFailure(r,this),!1)},S.prototype.eval=function(e){const{inputStream:t}=e,r=t.pos,n=this.matchCodePoint?t.nextCodePoint():t.nextCharCode();return void 0!==n&&this.from.codePointAt(0)<=n&&n<=this.to.codePointAt(0)?(e.pushBinding(new le(String.fromCodePoint(n).length),r),!0):(e.processFailure(r,this),!1)},w.prototype.eval=function(e){return e.eval(e.currentApplication().args[this.index])},T.prototype.eval=function(e){e.enterLexifiedContext();const t=e.eval(this.expr);return e.exitLexifiedContext(),t},C.prototype.eval=function(e){for(let t=0;t<this.terms.length;t++)if(e.eval(this.terms[t]))return!0;return!1},F.prototype.eval=function(e){for(let t=0;t<this.factors.length;t++){const r=this.factors[t];if(!e.eval(r))return!1}return!0},R.prototype.eval=function(e){const{inputStream:t}=e,r=t.pos,n=this.getArity(),s=[],i=[];for(;s.length<n;)s.push([]),i.push([]);let o,a=0,u=r;for(;a<this.maxNumMatches&&e.eval(this.expr);){if(t.pos===u)throw V(this,e._applicationStack);u=t.pos,a++;const r=e._bindings.splice(e._bindings.length-n,n),c=e._bindingOffsets.splice(e._bindingOffsets.length-n,n);for(o=0;o<r.length;o++)s[o].push(r[o]),i[o].push(c[o])}if(a<this.minNumMatches)return!1;let c=e.posToOffset(r),l=0;if(a>0){const e=s[n-1],t=i[n-1],r=t[t.length-1]+e[e.length-1].matchLength;c=i[0][0],l=r-c}const p=this instanceof L;for(o=0;o<s.length;o++)e._bindings.push(new he(s[o],i[o],l,p)),e._bindingOffsets.push(c);return!0},P.prototype.eval=function(e){const{inputStream:t}=e,r=t.pos;e.pushFailuresInfo();const n=e.eval(this.expr);return e.popFailuresInfo(),n?(e.processFailure(r,this),!1):(t.pos=r,!0)},j.prototype.eval=function(e){const{inputStream:t}=e,r=t.pos;return!!e.eval(this.expr)&&(t.pos=r,!0)},k.prototype.eval=function(e){const t=e.currentApplication(),r=t?t.args:[],n=this.substituteParams(r),s=e.getCurrentPosInfo();if(s.isActive(n))return n.handleCycle(e);const i=n.toMemoKey(),o=s.memo[i];if(o&&s.shouldUseMemoizedResult(o)){if(e.hasNecessaryInfo(o))return e.useMemoizedResult(e.inputStream.pos,o);delete s.memo[i]}return n.reallyEval(e)},k.prototype.handleCycle=function(e){const t=e.getCurrentPosInfo(),{currentLeftRecursion:r}=t,n=this.toMemoKey();let s=t.memo[n];return r&&r.headApplication.toMemoKey()===n?s.updateInvolvedApplicationMemoKeys():s||(s=t.memoize(n,{matchLength:0,examinedLength:0,value:!1,rightmostFailureOffset:-1}),t.startLeftRecursion(this,s)),e.useMemoizedResult(e.inputStream.pos,s)},k.prototype.reallyEval=function(e){const{inputStream:t}=e,r=t.pos,s=e.getCurrentPosInfo(),i=e.grammar.rules[this.ruleName],{body:o}=i,{description:a}=i;e.enterApplication(s,this),a&&e.pushFailuresInfo();const u=t.examinedLength;t.examinedLength=0;let c=this.evalOnce(o,e);const l=s.currentLeftRecursion,p=this.toMemoKey(),h=l&&l.headApplication.toMemoKey()===p;let m;e.doNotMemoize?e.doNotMemoize=!1:h?(c=this.growSeedResult(o,e,r,l,c),s.endLeftRecursion(),m=l,m.examinedLength=t.examinedLength-r,m.rightmostFailureOffset=e._getRightmostFailureOffset(),s.memoize(p,m)):l&&l.isInvolved(p)||(m=s.memoize(p,{matchLength:t.pos-r,examinedLength:t.examinedLength-r,value:c,failuresAtRightmostPosition:e.cloneRecordedFailures(),rightmostFailureOffset:e._getRightmostFailureOffset()}));const f=!!c;if(a&&(e.popFailuresInfo(),f||e.processFailure(r,this),m&&(m.failuresAtRightmostPosition=e.cloneRecordedFailures())),e.isTracing()&&m){const t=e.getTraceEntry(r,this,f,f?[c]:[]);h&&(n(null!=t.terminatingLREntry||!f),t.isHeadOfLeftRecursion=!0),m.traceEntry=t}return t.examinedLength=Math.max(t.examinedLength,u),e.exitApplication(s,c),f},k.prototype.evalOnce=function(e,t){const{inputStream:r}=t,n=r.pos;if(t.eval(e)){const s=e.getArity(),i=t._bindings.splice(t._bindings.length-s,s),o=t._bindingOffsets.splice(t._bindingOffsets.length-s,s),a=r.pos-n;return new pe(this.ruleName,i,o,a)}return!1},k.prototype.growSeedResult=function(e,t,r,n,s){if(!s)return!1;const{inputStream:i}=t;for(;;){if(n.matchLength=i.pos-r,n.value=s,n.failuresAtRightmostPosition=t.cloneRecordedFailures(),t.isTracing()){const e=t.trace[t.trace.length-1];n.traceEntry=new oe(t.input,r,i.pos,this,!0,[s],[e.clone()])}if(i.pos=r,s=this.evalOnce(e,t),i.pos-r<=n.matchLength)break;t.isTracing()&&t.trace.splice(-2,1)}return t.isTracing()&&n.traceEntry.recordLRTermination(t.trace.pop(),s),i.pos=r+n.matchLength,n.value},M.prototype.eval=function(e){const{inputStream:t}=e,r=t.pos,n=t.next();return n&&this.pattern.test(n)?(e.pushBinding(new le(n.length),r),!0):(e.processFailure(r,this),!1)},I.prototype.getArity=r("getArity"),x.getArity=b.getArity=_.prototype.getArity=S.prototype.getArity=w.prototype.getArity=k.prototype.getArity=M.prototype.getArity=function(){return 1},C.prototype.getArity=function(){return 0===this.terms.length?0:this.terms[0].getArity()},F.prototype.getArity=function(){let e=0;for(let t=0;t<this.factors.length;t++)e+=this.factors[t].getArity();return e},R.prototype.getArity=function(){return this.expr.getArity()},P.prototype.getArity=function(){return 0},j.prototype.getArity=T.prototype.getArity=function(){return this.expr.getArity()},I.prototype.outputRecipe=r("outputRecipe"),x.outputRecipe=function(e,t){return["any",me(this,t)]},b.outputRecipe=function(e,t){return["end",me(this,t)]},_.prototype.outputRecipe=function(e,t){return["terminal",me(this,t),this.obj]},S.prototype.outputRecipe=function(e,t){return["range",me(this,t),this.from,this.to]},w.prototype.outputRecipe=function(e,t){return["param",me(this,t),this.index]},C.prototype.outputRecipe=function(e,t){return["alt",me(this,t)].concat(this.terms.map((r=>r.outputRecipe(e,t))))},A.prototype.outputRecipe=function(e,t){return this.terms[0].outputRecipe(e,t)},O.prototype.outputRecipe=function(e,t){const r=this.terms.slice(0,this.expansionPos),n=this.terms.slice(this.expansionPos+1);return["splice",me(this,t),r.map((r=>r.outputRecipe(e,t))),n.map((r=>r.outputRecipe(e,t)))]},F.prototype.outputRecipe=function(e,t){return["seq",me(this,t)].concat(this.factors.map((r=>r.outputRecipe(e,t))))},E.prototype.outputRecipe=N.prototype.outputRecipe=L.prototype.outputRecipe=P.prototype.outputRecipe=j.prototype.outputRecipe=T.prototype.outputRecipe=function(e,t){return[this.constructor.name.toLowerCase(),me(this,t),this.expr.outputRecipe(e,t)]},k.prototype.outputRecipe=function(e,t){return["app",me(this,t),this.ruleName,this.args.map((r=>r.outputRecipe(e,t)))]},M.prototype.outputRecipe=function(e,t){return["unicodeChar",me(this,t),this.category]},I.prototype.introduceParams=r("introduceParams"),x.introduceParams=b.introduceParams=_.prototype.introduceParams=S.prototype.introduceParams=w.prototype.introduceParams=M.prototype.introduceParams=function(e){return this},C.prototype.introduceParams=function(e){return this.terms.forEach(((t,r,n)=>{n[r]=t.introduceParams(e)})),this},F.prototype.introduceParams=function(e){return this.factors.forEach(((t,r,n)=>{n[r]=t.introduceParams(e)})),this},R.prototype.introduceParams=P.prototype.introduceParams=j.prototype.introduceParams=T.prototype.introduceParams=function(e){return this.expr=this.expr.introduceParams(e),this},k.prototype.introduceParams=function(e){const t=e.indexOf(this.ruleName);if(t>=0){if(this.args.length>0)throw new Error("Parameterized rules cannot be passed as arguments to another rule.");return new w(t).withSource(this.source)}return this.args.forEach(((t,r,n)=>{n[r]=t.introduceParams(e)})),this},I.prototype.isNullable=function(e){return this._isNullable(e,Object.create(null))},I.prototype._isNullable=r("_isNullable"),x._isNullable=S.prototype._isNullable=w.prototype._isNullable=N.prototype._isNullable=M.prototype._isNullable=function(e,t){return!1},b._isNullable=function(e,t){return!0},_.prototype._isNullable=function(e,t){return"string"==typeof this.obj&&""===this.obj},C.prototype._isNullable=function(e,t){return 0===this.terms.length||this.terms.some((r=>r._isNullable(e,t)))},F.prototype._isNullable=function(e,t){return this.factors.every((r=>r._isNullable(e,t)))},E.prototype._isNullable=L.prototype._isNullable=P.prototype._isNullable=j.prototype._isNullable=function(e,t){return!0},T.prototype._isNullable=function(e,t){return this.expr._isNullable(e,t)},k.prototype._isNullable=function(e,t){const r=this.toMemoKey();if(!Object.prototype.hasOwnProperty.call(t,r)){const{body:n}=e.rules[this.ruleName],s=n.substituteParams(this.args);t[r]=!1,t[r]=s._isNullable(e,t)}return t[r]},I.prototype.substituteParams=r("substituteParams"),x.substituteParams=b.substituteParams=_.prototype.substituteParams=S.prototype.substituteParams=M.prototype.substituteParams=function(e){return this},w.prototype.substituteParams=function(e){return e[this.index]},C.prototype.substituteParams=function(e){return new C(this.terms.map((t=>t.substituteParams(e))))},F.prototype.substituteParams=function(e){return new F(this.factors.map((t=>t.substituteParams(e))))},R.prototype.substituteParams=P.prototype.substituteParams=j.prototype.substituteParams=T.prototype.substituteParams=function(e){return new this.constructor(this.expr.substituteParams(e))},k.prototype.substituteParams=function(e){if(0===this.args.length)return this;{const t=this.args.map((t=>t.substituteParams(e)));return new k(this.ruleName,t)}},I.prototype.toArgumentNameList=r("toArgumentNameList"),x.toArgumentNameList=function(e,t){return["any"]},b.toArgumentNameList=function(e,t){return["end"]},_.prototype.toArgumentNameList=function(e,t){return"string"==typeof this.obj&&/^[_a-zA-Z0-9]+$/.test(this.obj)?["_"+this.obj]:["$"+e]},S.prototype.toArgumentNameList=function(e,t){let r=this.from+"_to_"+this.to;return fe(r)||(r="_"+r),fe(r)||(r="$"+e),[r]},C.prototype.toArgumentNameList=function(e,t){const r=this.terms.map((t=>t.toArgumentNameList(e,!0))),n=[],s=r[0].length;for(let e=0;e<s;e++){const t=[];for(let n=0;n<this.terms.length;n++)t.push(r[n][e]);const s=c(t);n.push(s.join("_or_"))}return t||de(n),n},F.prototype.toArgumentNameList=function(e,t){let r=[];return this.factors.forEach((t=>{const n=t.toArgumentNameList(e,!0);r=r.concat(n),e+=n.length})),t||de(r),r},R.prototype.toArgumentNameList=function(e,t){const r=this.expr.toArgumentNameList(e,t).map((e=>"s"===e[e.length-1]?e+"es":e+"s"));return t||de(r),r},L.prototype.toArgumentNameList=function(e,t){return this.expr.toArgumentNameList(e,t).map((e=>"opt"+e[0].toUpperCase()+e.slice(1)))},P.prototype.toArgumentNameList=function(e,t){return[]},j.prototype.toArgumentNameList=T.prototype.toArgumentNameList=function(e,t){return this.expr.toArgumentNameList(e,t)},k.prototype.toArgumentNameList=function(e,t){return[this.ruleName]},M.prototype.toArgumentNameList=function(e,t){return["$"+e]},w.prototype.toArgumentNameList=function(e,t){return["param"+this.index]},I.prototype.toDisplayString=r("toDisplayString"),C.prototype.toDisplayString=F.prototype.toDisplayString=function(){return this.source?this.source.trimmed().contents:"["+this.constructor.name+"]"},x.toDisplayString=b.toDisplayString=R.prototype.toDisplayString=P.prototype.toDisplayString=j.prototype.toDisplayString=T.prototype.toDisplayString=_.prototype.toDisplayString=S.prototype.toDisplayString=w.prototype.toDisplayString=function(){return this.toString()},k.prototype.toDisplayString=function(){if(this.args.length>0){const e=this.args.map((e=>e.toDisplayString()));return this.ruleName+"<"+e.join(",")+">"}return this.ruleName},M.prototype.toDisplayString=function(){return"Unicode ["+this.category+"] character"};class ve{constructor(e,t,r){if(!function(e){return"description"===e||"string"===e||"code"===e}(r))throw new Error("invalid Failure type: "+r);this.pexpr=e,this.text=t,this.type=r,this.fluffy=!1}getPExpr(){return this.pexpr}getText(){return this.text}getType(){return this.type}isDescription(){return"description"===this.type}isStringTerminal(){return"string"===this.type}isCode(){return"code"===this.type}isFluffy(){return this.fluffy}makeFluffy(){this.fluffy=!0}clearFluffy(){this.fluffy=!1}subsumes(e){return this.getText()===e.getText()&&this.type===e.type&&(!this.isFluffy()||this.isFluffy()&&e.isFluffy())}toString(){return"string"===this.type?JSON.stringify(this.getText()):this.getText()}clone(){const e=new ve(this.pexpr,this.text,this.type);return this.isFluffy()&&e.makeFluffy(),e}toKey(){return this.toString()+"#"+this.type}}I.prototype.toFailure=r("toFailure"),x.toFailure=function(e){return new ve(this,"any object","description")},b.toFailure=function(e){return new ve(this,"end of input","description")},_.prototype.toFailure=function(e){return new ve(this,this.obj,"string")},S.prototype.toFailure=function(e){return new ve(this,JSON.stringify(this.from)+".."+JSON.stringify(this.to),"code")},P.prototype.toFailure=function(e){const t=this.expr===x?"nothing":"not "+this.expr.toFailure(e);return new ve(this,t,"description")},j.prototype.toFailure=function(e){return this.expr.toFailure(e)},k.prototype.toFailure=function(e){let{description:t}=e.rules[this.ruleName];return t||(t=(/^[aeiouAEIOU]/.test(this.ruleName)?"an":"a")+" "+this.ruleName),new ve(this,t,"description")},M.prototype.toFailure=function(e){return new ve(this,"a Unicode ["+this.category+"] character","description")},C.prototype.toFailure=function(e){const t="("+this.terms.map((t=>t.toFailure(e))).join(" or ")+")";return new ve(this,t,"description")},F.prototype.toFailure=function(e){const t="("+this.factors.map((t=>t.toFailure(e))).join(" ")+")";return new ve(this,t,"description")},R.prototype.toFailure=function(e){const t="("+this.expr.toFailure(e)+this.operator+")";return new ve(this,t,"description")},I.prototype.toString=r("toString"),x.toString=function(){return"any"},b.toString=function(){return"end"},_.prototype.toString=function(){return JSON.stringify(this.obj)},S.prototype.toString=function(){return JSON.stringify(this.from)+".."+JSON.stringify(this.to)},w.prototype.toString=function(){return"$"+this.index},T.prototype.toString=function(){return"#("+this.expr.toString()+")"},C.prototype.toString=function(){return 1===this.terms.length?this.terms[0].toString():"("+this.terms.map((e=>e.toString())).join(" | ")+")"},F.prototype.toString=function(){return 1===this.factors.length?this.factors[0].toString():"("+this.factors.map((e=>e.toString())).join(" ")+")"},R.prototype.toString=function(){return this.expr+this.operator},P.prototype.toString=function(){return"~"+this.expr},j.prototype.toString=function(){return"&"+this.expr},k.prototype.toString=function(){if(this.args.length>0){const e=this.args.map((e=>e.toString()));return this.ruleName+"<"+e.join(",")+">"}return this.ruleName},M.prototype.toString=function(){return"\\p{"+this.category+"}"};class ge extends I{constructor(e){super(),this.obj=e}_getString(e){const t=e.currentApplication().args[this.obj.index];return n(t instanceof _,"expected a Terminal expression"),t.obj}allowsSkippingPrecedingSpace(){return!0}eval(e){const{inputStream:t}=e,r=t.pos,n=this._getString(e);return t.matchString(n,!0)?(e.pushBinding(new le(n.length),r),!0):(e.processFailure(r,this),!1)}getArity(){return 1}substituteParams(e){return new ge(this.obj.substituteParams(e))}toDisplayString(){return this.obj.toDisplayString()+" (case-insensitive)"}toFailure(e){return new ve(this,this.obj.toFailure(e)+" (case-insensitive)","description")}_isNullable(e,t){return this.obj._isNullable(e,t)}}var ye=Object.freeze({__proto__:null,CaseInsensitiveTerminal:ge,PExpr:I,any:x,end:b,Terminal:_,Range:S,Param:w,Alt:C,Extend:A,Splice:O,Seq:F,Iter:R,Star:E,Plus:N,Opt:L,Not:P,Lookahead:j,Lex:T,Apply:k,UnicodeChar:M});let Ie;Z((e=>{Ie=e.rules.applySyntactic.body}));const xe=new k("spaces");class be{constructor(e,t,r){this.matcher=e,this.startExpr=t,this.grammar=e.grammar,this.input=e.getInput(),this.inputStream=new te(this.input),this.memoTable=e._memoTable,this.userData=void 0,this.doNotMemoize=!1,this._bindings=[],this._bindingOffsets=[],this._applicationStack=[],this._posStack=[0],this.inLexifiedContextStack=[!1],this.rightmostFailurePosition=-1,this._rightmostFailurePositionStack=[],this._recordedFailuresStack=[],void 0!==r&&(this.positionToRecordFailures=r,this.recordedFailures=Object.create(null))}posToOffset(e){return e-this._posStack[this._posStack.length-1]}enterApplication(e,t){this._posStack.push(this.inputStream.pos),this._applicationStack.push(t),this.inLexifiedContextStack.push(!1),e.enter(t),this._rightmostFailurePositionStack.push(this.rightmostFailurePosition),this.rightmostFailurePosition=-1}exitApplication(e,t){const r=this._posStack.pop();this._applicationStack.pop(),this.inLexifiedContextStack.pop(),e.exit(),this.rightmostFailurePosition=Math.max(this.rightmostFailurePosition,this._rightmostFailurePositionStack.pop()),t&&this.pushBinding(t,r)}enterLexifiedContext(){this.inLexifiedContextStack.push(!0)}exitLexifiedContext(){this.inLexifiedContextStack.pop()}currentApplication(){return this._applicationStack[this._applicationStack.length-1]}inSyntacticContext(){const e=this.currentApplication();return e?e.isSyntactic()&&!this.inLexifiedContext():this.startExpr.factors[0].isSyntactic()}inLexifiedContext(){return this.inLexifiedContextStack[this.inLexifiedContextStack.length-1]}skipSpaces(){return this.pushFailuresInfo(),this.eval(xe),this.popBinding(),this.popFailuresInfo(),this.inputStream.pos}skipSpacesIfInSyntacticContext(){return this.inSyntacticContext()?this.skipSpaces():this.inputStream.pos}maybeSkipSpacesBefore(e){return e.allowsSkippingPrecedingSpace()&&e!==xe?this.skipSpacesIfInSyntacticContext():this.inputStream.pos}pushBinding(e,t){this._bindings.push(e),this._bindingOffsets.push(this.posToOffset(t))}popBinding(){this._bindings.pop(),this._bindingOffsets.pop()}numBindings(){return this._bindings.length}truncateBindings(e){for(;this._bindings.length>e;)this.popBinding()}getCurrentPosInfo(){return this.getPosInfo(this.inputStream.pos)}getPosInfo(e){let t=this.memoTable[e];return t||(t=this.memoTable[e]=new ne),t}processFailure(e,t){if(this.rightmostFailurePosition=Math.max(this.rightmostFailurePosition,e),this.recordedFailures&&e===this.positionToRecordFailures){const e=this.currentApplication();e&&(t=t.substituteParams(e.args)),this.recordFailure(t.toFailure(this.grammar),!1)}}recordFailure(e,t){const r=e.toKey();this.recordedFailures[r]?this.recordedFailures[r].isFluffy()&&!e.isFluffy()&&this.recordedFailures[r].clearFluffy():this.recordedFailures[r]=t?e.clone():e}recordFailures(e,t){Object.keys(e).forEach((r=>{this.recordFailure(e[r],t)}))}cloneRecordedFailures(){if(!this.recordedFailures)return;const e=Object.create(null);return Object.keys(this.recordedFailures).forEach((t=>{e[t]=this.recordedFailures[t].clone()})),e}getRightmostFailurePosition(){return this.rightmostFailurePosition}_getRightmostFailureOffset(){return this.rightmostFailurePosition>=0?this.posToOffset(this.rightmostFailurePosition):-1}getMemoizedTraceEntry(e,t){const r=this.memoTable[e];if(r&&t instanceof k){const e=r.memo[t.toMemoKey()];if(e&&e.traceEntry){const r=e.traceEntry.cloneWithExpr(t);return r.isMemoized=!0,r}}return null}getTraceEntry(e,t,r,n){if(t instanceof k){const e=this.currentApplication(),r=e?e.args:[];t=t.substituteParams(r)}return this.getMemoizedTraceEntry(e,t)||new oe(this.input,e,this.inputStream.pos,t,r,n,this.trace)}isTracing(){return!!this.trace}hasNecessaryInfo(e){return!(this.trace&&!e.traceEntry||this.recordedFailures&&this.inputStream.pos+e.rightmostFailureOffset===this.positionToRecordFailures&&!e.failuresAtRightmostPosition)}useMemoizedResult(e,t){this.trace&&this.trace.push(t.traceEntry);const r=this.inputStream.pos+t.rightmostFailureOffset;return this.rightmostFailurePosition=Math.max(this.rightmostFailurePosition,r),this.recordedFailures&&this.positionToRecordFailures===r&&t.failuresAtRightmostPosition&&this.recordFailures(t.failuresAtRightmostPosition,!0),this.inputStream.examinedLength=Math.max(this.inputStream.examinedLength,t.examinedLength+e),!!t.value&&(this.inputStream.pos+=t.matchLength,this.pushBinding(t.value,e),!0)}eval(e){const{inputStream:t}=this,r=this._bindings.length,n=this.userData;let s;this.recordedFailures&&(s=this.recordedFailures,this.recordedFailures=Object.create(null));const i=t.pos,o=this.maybeSkipSpacesBefore(e);let a;this.trace&&(a=this.trace,this.trace=[]);const u=e.eval(this);if(this.trace){const t=this._bindings.slice(r),n=this.getTraceEntry(o,e,u,t);n.isImplicitSpaces=e===xe,n.isRootNode=e===this.startExpr,a.push(n),this.trace=a}return u?this.recordedFailures&&t.pos===this.positionToRecordFailures&&Object.keys(this.recordedFailures).forEach((e=>{this.recordedFailures[e].makeFluffy()})):(t.pos=i,this.truncateBindings(r),this.userData=n),this.recordedFailures&&this.recordFailures(s,!1),e===Ie&&this.skipSpaces(),u}getMatchResult(){let e;this.grammar._setUpMatchState(this),this.eval(this.startExpr),this.recordedFailures&&(e=Object.keys(this.recordedFailures).map((e=>this.recordedFailures[e])));const t=this._bindings[0];return t&&(t.grammar=this.grammar),new re(this.matcher,this.input,this.startExpr,t,this._bindingOffsets[0],this.rightmostFailurePosition,e)}getTrace(){this.trace=[];const e=this.getMatchResult(),t=this.trace[this.trace.length-1];return t.result=e,t}pushFailuresInfo(){this._rightmostFailurePositionStack.push(this.rightmostFailurePosition),this._recordedFailuresStack.push(this.recordedFailures)}popFailuresInfo(){this.rightmostFailurePosition=this._rightmostFailurePositionStack.pop(),this.recordedFailures=this._recordedFailuresStack.pop()}}class _e{constructor(e){this.grammar=e,this._memoTable=[],this._input="",this._isMemoTableStale=!1}_resetMemoTable(){this._memoTable=[],this._isMemoTableStale=!1}getInput(){return this._input}setInput(e){return this._input!==e&&this.replaceInputRange(0,this._input.length,e),this}replaceInputRange(e,t,r){const n=this._input,s=this._memoTable;if(e<0||e>n.length||t<0||t>n.length||e>t)throw new Error("Invalid indices: "+e+" and "+t);this._input=n.slice(0,e)+r+n.slice(t),this._input!==n&&s.length>0&&(this._isMemoTableStale=!0);const i=s.slice(t);s.length=e;for(let e=0;e<r.length;e++)s.push(void 0);for(const e of i)s.push(e);for(let t=0;t<e;t++){const r=s[t];r&&r.clearObsoleteEntries(t,e)}return this}match(e,t={incremental:!0}){return this._match(this._getStartExpr(e),{incremental:t.incremental,tracing:!1})}trace(e,t={incremental:!0}){return this._match(this._getStartExpr(e),{incremental:t.incremental,tracing:!0})}_match(e,t={}){const r={tracing:!1,incremental:!0,positionToRecordFailures:void 0,...t};if(r.incremental){if(this._isMemoTableStale&&!this.grammar.supportsIncrementalParsing)throw D(`Grammar '${this.grammar.name}' does not support incremental parsing`)}else this._resetMemoTable();const n=new be(this,e,r.positionToRecordFailures);return r.tracing?n.getTrace():n.getMatchResult()}_getStartExpr(e){const t=e||this.grammar.defaultStartRule;if(!t)throw new Error("Missing start rule argument -- the grammar has no default start rule.");const r=this.grammar.parseApplication(t);return new F([r,b])}}const Se=[],we=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);class Ce{constructor(e,t,r){this._node=e,this.source=t,this._baseInterval=r,e.isNonterminal()&&n(t===r),this._childWrappers=[]}_forgetMemoizedResultFor(e){delete this._node[this._semantics.attributeKeys[e]],this.children.forEach((t=>{t._forgetMemoizedResultFor(e)}))}child(e){if(!(0<=e&&e<this._node.numChildren()))return;let t=this._childWrappers[e];if(!t){const r=this._node.childAt(e),n=this._node.childOffsets[e],s=this._baseInterval.subInterval(n,r.matchLength),i=r.isNonterminal()?s:this._baseInterval;t=this._childWrappers[e]=this._semantics.wrap(r,s,i)}return t}_children(){for(let e=0;e<this._node.numChildren();e++)this.child(e);return this._childWrappers}isIteration(){return this._node.isIteration()}isTerminal(){return this._node.isTerminal()}isNonterminal(){return this._node.isNonterminal()}isSyntactic(){return this.isNonterminal()&&this._node.isSyntactic()}isLexical(){return this.isNonterminal()&&this._node.isLexical()}isOptional(){return this._node.isOptional()}iteration(e){const t=e||[],r=t.map((e=>e._node)),n=new he(r,[],-1,!1),s=this._semantics.wrap(n,null,null);return s._childWrappers=t,s}get children(){return this._children()}get ctorName(){return this._node.ctorName}get numChildren(){return this._node.numChildren()}get sourceString(){return this.source.contents}}class Ae{constructor(e,t){const r=this;if(this.grammar=e,this.checkedActionDicts=!1,this.Wrapper=class extends(t?t.Wrapper:Ce){constructor(e,t,n){super(e,t,n),r.checkActionDictsIfHaventAlready(),this._semantics=r}toString(){return"[semantics wrapper for "+r.grammar.name+"]"}},this.super=t,t){if(!e.equals(this.super.grammar)&&!e._inheritsFrom(this.super.grammar))throw new Error("Cannot extend a semantics for grammar '"+this.super.grammar.name+"' for use with grammar '"+e.name+"' (not a sub-grammar)");this.operations=Object.create(this.super.operations),this.attributes=Object.create(this.super.attributes),this.attributeKeys=Object.create(null);for(const e in this.attributes)Object.defineProperty(this.attributeKeys,e,{value:X(e)})}else this.operations=Object.create(null),this.attributes=Object.create(null),this.attributeKeys=Object.create(null)}toString(){return"[semantics for "+this.grammar.name+"]"}checkActionDictsIfHaventAlready(){this.checkedActionDicts||(this.checkActionDicts(),this.checkedActionDicts=!0)}checkActionDicts(){let e;for(e in this.operations)this.operations[e].checkActionDict(this.grammar);for(e in this.attributes)this.attributes[e].checkActionDict(this.grammar)}toRecipe(e){function t(e){return e.super!==Ae.BuiltInSemantics._getSemantics()}let r="(function(g) {\n";if(t(this)){r+="  var semantics = "+this.super.toRecipe(!0)+"(g";const e=this.super.grammar;let t=this.grammar;for(;t!==e;)r+=".superGrammar",t=t.superGrammar;r+=");\n",r+="  return g.extendSemantics(semantics)"}else r+="  return g.createSemantics()";return["Operation","Attribute"].forEach((e=>{const n=this[e.toLowerCase()+"s"];Object.keys(n).forEach((s=>{const{actionDict:i,formals:o,builtInDefault:a}=n[s];let u,c=s;o.length>0&&(c+="("+o.join(", ")+")"),u=t(this)&&this.super[e.toLowerCase()+"s"][s]?"extend"+e:"add"+e,r+="\n    ."+u+"("+JSON.stringify(c)+", {";const l=[];Object.keys(i).forEach((e=>{if(i[e]!==a){let t=i[e].toString().trim();t=t.replace(/^.*\(/,"function("),l.push("\n      "+JSON.stringify(e)+": "+t)}})),r+=l.join(",")+"\n    })"}))})),r+=";\n  })",e||(r="(function() {\n  var grammar = this.fromRecipe("+this.grammar.toRecipe()+");\n  var semantics = "+r+"(grammar);\n  return semantics;\n});\n"),r}addOperationOrAttribute(e,t,r){const n=e+"s",s=Oe(t,e),{name:i}=s,{formals:o}=s;this.assertNewName(i,e);const a=function(e,t,r){return function(...n){const s=(this._semantics.operations[t]||this._semantics.attributes[t]).formals.map((e=>this.args[e]));if(this.isIteration()||1!==n.length)throw function(e,t,r,n){let s=n.slice(0,-1).map((e=>{const t="  "+e[0].name+" > "+e[1];return 3===e.length?t+" for '"+e[2]+"'":t})).join("\n");s+="\n  "+t+" > "+e;let i="";"_iter"===e&&(i=["\nNOTE: as of Ohm v16, there is no default action for iteration nodes — see ","  https://ohmjs.org/d/dsa for details."].join("\n"));const o=D([`Missing semantic action for '${e}' in ${r} '${t}'.${i}`,"Action stack (most recent call last):",s].join("\n"));return o.name="missingSemanticAction",o}(this.ctorName,t,e,Se);return r.apply(n[0],s)}}(e,i,l),u={_default:a};Object.keys(r).forEach((e=>{u[e]=r[e]}));const c="operation"===e?new Fe(i,o,u,a):new Re(i,u,a);function l(...t){const r=this._semantics[n][i];if(arguments.length!==r.formals.length)throw new Error("Invalid number of arguments passed to "+i+" "+e+" (expected "+r.formals.length+", got "+arguments.length+")");const s=Object.create(null);for(const[e,n]of Object.entries(t))s[r.formals[e]]=n;const o=this.args;this.args=s;const a=r.execute(this._semantics,this);return this.args=o,a}c.checkActionDict(this.grammar),this[n][i]=c,"operation"===e?(this.Wrapper.prototype[i]=l,this.Wrapper.prototype[i].toString=function(){return"["+i+" operation]"}):(Object.defineProperty(this.Wrapper.prototype,i,{get:l,configurable:!0}),Object.defineProperty(this.attributeKeys,i,{value:X(i)}))}extendOperationOrAttribute(e,t,r){const n=e+"s";if(Oe(t,"attribute"),!this.super||!(t in this.super[n]))throw new Error("Cannot extend "+e+" '"+t+"': did not inherit an "+e+" with that name");if(we(this[n],t))throw new Error("Cannot extend "+e+" '"+t+"' again");const s=this[n][t].formals,i=this[n][t].actionDict,o=Object.create(i);Object.keys(r).forEach((e=>{o[e]=r[e]})),this[n][t]="operation"===e?new Fe(t,s,o):new Re(t,o),this[n][t].checkActionDict(this.grammar)}assertNewName(e,t){if(we(Ce.prototype,e))throw new Error("Cannot add "+t+" '"+e+"': that's a reserved name");if(e in this.operations)throw new Error("Cannot add "+t+" '"+e+"': an operation with that name already exists");if(e in this.attributes)throw new Error("Cannot add "+t+" '"+e+"': an attribute with that name already exists")}wrap(e,t,r){const n=r||t;return e instanceof this.Wrapper?e:new this.Wrapper(e,t,n)}}function Oe(e,t){if(!Ae.prototypeGrammar)return n(-1===e.indexOf("(")),{name:e,formals:[]};const r=Ae.prototypeGrammar.match(e,"operation"===t?"OperationSignature":"AttributeSignature");if(r.failed())throw new Error(r.message);return Ae.prototypeGrammarSemantics(r).parse()}Ae.createSemantics=function(e,t){const r=new Ae(e,void 0!==t?t:Ae.BuiltInSemantics._getSemantics()),n=function(t){if(!(t instanceof re))throw new TypeError("Semantics expected a MatchResult, but got "+v(t));if(t.failed())throw new TypeError("cannot apply Semantics to "+t.toString());const n=t._cst;if(n.grammar!==e)throw new Error("Cannot use a MatchResult from grammar '"+n.grammar.name+"' with a semantics for '"+e.name+"'");const s=new te(t.input);return r.wrap(n,s.interval(t._cstOffset,t.input.length))};return n.addOperation=function(e,t){return r.addOperationOrAttribute("operation",e,t),n},n.extendOperation=function(e,t){return r.extendOperationOrAttribute("operation",e,t),n},n.addAttribute=function(e,t){return r.addOperationOrAttribute("attribute",e,t),n},n.extendAttribute=function(e,t){return r.extendOperationOrAttribute("attribute",e,t),n},n._getActionDict=function(t){const n=r.operations[t]||r.attributes[t];if(!n)throw new Error('"'+t+'" is not a valid operation or attribute name in this semantics for "'+e.name+'"');return n.actionDict},n._remove=function(e){let t;return e in r.operations?(t=r.operations[e],delete r.operations[e]):e in r.attributes&&(t=r.attributes[e],delete r.attributes[e]),delete r.Wrapper.prototype[e],t},n.getOperationNames=function(){return Object.keys(r.operations)},n.getAttributeNames=function(){return Object.keys(r.attributes)},n.getGrammar=function(){return r.grammar},n.toRecipe=function(e){return r.toRecipe(e)},n.toString=r.toString.bind(r),n._getSemantics=function(){return r},n};class Fe{constructor(e,t,r,n){this.name=e,this.formals=t,this.actionDict=r,this.builtInDefault=n}checkActionDict(e){e._checkTopDownActionDict(this.typeName,this.name,this.actionDict)}execute(e,t){try{const{ctorName:e}=t._node;let r=this.actionDict[e];return r?(Se.push([this,e]),r.apply(t,t._children())):t.isNonterminal()&&(r=this.actionDict._nonterminal,r)?(Se.push([this,"_nonterminal",e]),r.apply(t,t._children())):(Se.push([this,"default action",e]),this.actionDict._default.apply(t,t._children()))}finally{Se.pop()}}}Fe.prototype.typeName="operation";class Re extends Fe{constructor(e,t,r){super(e,[],t,r)}execute(e,t){const r=t._node,n=e.attributeKeys[this.name];return we(r,n)||(r[n]=Fe.prototype.execute.call(this,e,t)),r[n]}}Re.prototype.typeName="attribute";const Ee=["_iter","_terminal","_nonterminal","_default"];function Ne(e){return Object.keys(e.rules).sort().map((t=>e.rules[t]))}let Le,Pe;class je{constructor(e,t,r,n){if(this.name=e,this.superGrammar=t,this.rules=r,n){if(!(n in r))throw new Error("Invalid start rule: '"+n+"' is not a rule in grammar '"+e+"'");this.defaultStartRule=n}this._matchStateInitializer=void 0,this.supportsIncrementalParsing=!0}matcher(){return new _e(this)}isBuiltIn(){return this===je.ProtoBuiltInRules||this===je.BuiltInRules}equals(e){if(this===e)return!0;if(null==e||this.name!==e.name||this.defaultStartRule!==e.defaultStartRule||this.superGrammar!==e.superGrammar&&!this.superGrammar.equals(e.superGrammar))return!1;const t=Ne(this),r=Ne(e);return t.length===r.length&&t.every(((e,t)=>e.description===r[t].description&&e.formals.join(",")===r[t].formals.join(",")&&e.body.toString()===r[t].body.toString()))}match(e,t){const r=this.matcher();return r.replaceInputRange(0,0,e),r.match(t)}trace(e,t){const r=this.matcher();return r.replaceInputRange(0,0,e),r.trace(t)}createSemantics(){return Ae.createSemantics(this)}extendSemantics(e){return Ae.createSemantics(this,e._getSemantics())}_checkTopDownActionDict(e,t,r){const n=[];for(const e in r){const t=r[e];if(!Ee.includes(e)&&!(e in this.rules)){n.push(`'${e}' is not a valid semantic action for '${this.name}'`);continue}if("function"!=typeof t){n.push(`'${e}' must be a function in an action dictionary for '${this.name}'`);continue}const s=t.length,i=this._topDownActionArity(e);if(s!==i){let t;t="_iter"===e||"_nonterminal"===e?`it should use a rest parameter, e.g. \`${e}(...children) {}\`. NOTE: this is new in Ohm v16 — see https://ohmjs.org/d/ati for details.`:`expected ${i}, got ${s}`,n.push(`Semantic action '${e}' has the wrong arity: ${t}`)}}if(n.length>0){const r=n.map((e=>"- "+e)),s=new Error([`Found errors in the action dictionary of the '${t}' ${e}:`,...r].join("\n"));throw s.problems=n,s}}_topDownActionArity(e){return Ee.includes(e)?0:this.rules[e].body.getArity()}_inheritsFrom(e){let t=this.superGrammar;for(;t;){if(t.equals(e,!0))return!0;t=t.superGrammar}return!1}toRecipe(e=void 0){const t={};this.source&&(t.source=this.source.contents);let r=null;this.defaultStartRule&&(r=this.defaultStartRule);const n={};Object.keys(this.rules).forEach((e=>{const t=this.rules[e],{body:r}=t,s=!this.superGrammar||!this.superGrammar.rules[e];let i;i=s?"define":r instanceof A?"extend":"override";const o={};if(t.source&&this.source){const e=t.source.relativeTo(this.source);o.sourceInterval=[e.startIdx,e.endIdx]}const a=s?t.description:null,u=r.outputRecipe(t.formals,this.source);n[e]=[i,o,a,t.formals,u]}));let s="null";e?s=e:this.superGrammar&&!this.superGrammar.isBuiltIn()&&(s=this.superGrammar.toRecipe());return`[${[...["grammar",t,this.name].map(JSON.stringify),s,...[r,n].map(JSON.stringify)].join(",")}]`.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}toOperationActionDictionaryTemplate(){return this._toOperationOrAttributeActionDictionaryTemplate()}toAttributeActionDictionaryTemplate(){return this._toOperationOrAttributeActionDictionaryTemplate()}_toOperationOrAttributeActionDictionaryTemplate(){const e=new m;e.append("{");let t=!0;for(const r in this.rules){const{body:n}=this.rules[r];t?t=!1:e.append(","),e.append("\n"),e.append("  "),this.addSemanticActionTemplate(r,n,e)}return e.append("\n}"),e.contents()}addSemanticActionTemplate(e,t,r){r.append(e),r.append(": function(");const n=this._topDownActionArity(e);r.append(a("_",n).join(", ")),r.append(") {\n"),r.append("  }")}parseApplication(e){let t;if(-1===e.indexOf("<"))t=new k(e);else{const r=Le.match(e,"Base_application");t=Pe(r,{})}if(!(t.ruleName in this.rules))throw G(t.ruleName,this.name);const{formals:r}=this.rules[t.ruleName];if(r.length!==t.args.length){const{source:e}=this.rules[t.ruleName];throw z(t.ruleName,r.length,t.args.length,e)}return t}_setUpMatchState(e){this._matchStateInitializer&&this._matchStateInitializer(e)}}je.ProtoBuiltInRules=new je("ProtoBuiltInRules",void 0,{any:{body:x,formals:[],description:"any character",primitive:!0},end:{body:b,formals:[],description:"end of input",primitive:!0},caseInsensitive:{body:new ge(new w(0)),formals:["str"],primitive:!0},lower:{body:new M("Ll"),formals:[],description:"a lowercase letter",primitive:!0},upper:{body:new M("Lu"),formals:[],description:"an uppercase letter",primitive:!0},unicodeLtmo:{body:new M("Ltmo"),formals:[],description:"a Unicode character in Lt, Lm, or Lo",primitive:!0},spaces:{body:new E(new k("space")),formals:[]},space:{body:new S("\0"," "),formals:[],description:"a space"}}),je.initApplicationParser=function(e,t){Le=e,Pe=t};class Te{constructor(e){this.name=e}sourceInterval(e,t){return this.source.subInterval(e,t-e)}ensureSuperGrammar(){return this.superGrammar||this.withSuperGrammar("BuiltInRules"===this.name?je.ProtoBuiltInRules:je.BuiltInRules),this.superGrammar}ensureSuperGrammarRuleForOverriding(e,t){const r=this.ensureSuperGrammar().rules[e];if(!r)throw D("Cannot override rule "+e+" because it is not declared in "+this.superGrammar.name,t);return r}installOverriddenOrExtendedRule(e,t,r,n){const s=u(t);if(s.length>0)throw $(e,s,n);const i=this.ensureSuperGrammar().rules[e],o=i.formals,a=o?o.length:0;if(t.length!==a)throw z(e,a,t.length,n);return this.install(e,t,r,i.description,n)}install(e,t,r,n,s,i=!1){return this.rules[e]={body:r.introduceParams(t),formals:t,description:n,source:s,primitive:i},this}withSuperGrammar(e){if(this.superGrammar)throw new Error("the super grammar of a GrammarDecl cannot be set more than once");return this.superGrammar=e,this.rules=Object.create(e.rules),e.isBuiltIn()||(this.defaultStartRule=e.defaultStartRule),this}withDefaultStartRule(e){return this.defaultStartRule=e,this}withSource(e){return this.source=new te(e).interval(0,e.length),this}build(){const e=new je(this.name,this.ensureSuperGrammar(),this.rules,this.defaultStartRule);e._matchStateInitializer=e.superGrammar._matchStateInitializer,e.supportsIncrementalParsing=e.superGrammar.supportsIncrementalParsing;const t=[];let r=!1;return Object.keys(e.rules).forEach((n=>{const{body:s}=e.rules[n];try{s.assertChoicesHaveUniformArity(n)}catch(e){t.push(e)}try{s.assertAllApplicationsAreValid(n,e)}catch(e){t.push(e),r=!0}})),r||Object.keys(e.rules).forEach((r=>{const{body:n}=e.rules[r];try{n.assertIteratedExprsAreNotNullable(e,[])}catch(e){t.push(e)}})),t.length>0&&function(e){if(1===e.length)throw e[0];if(e.length>1)throw function(e){const t=e.map((e=>e.message));return D(["Errors:"].concat(t).join("\n- "),e[0].interval)}(e)}(t),this.source&&(e.source=this.source),e}define(e,t,r,n,s,i){if(this.ensureSuperGrammar(),this.superGrammar.rules[e])throw B(e,this.name,this.superGrammar.name,s);if(this.rules[e])throw B(e,this.name,this.name,s);const o=u(t);if(o.length>0)throw $(e,o,s);return this.install(e,t,r,n,s,i)}override(e,t,r,n,s){return this.ensureSuperGrammarRuleForOverriding(e,s),this.installOverriddenOrExtendedRule(e,t,r,s),this}extend(e,t,r,n,s){if(!this.ensureSuperGrammar().rules[e])throw D("Cannot extend rule "+e+" because it is not declared in "+this.superGrammar.name,s);const i=new A(this.superGrammar,e,r);return i.source=r.source,this.installOverriddenOrExtendedRule(e,t,i,s),this}}class ke{constructor(){this.currentDecl=null,this.currentRuleName=null}newGrammar(e){return new Te(e)}grammar(e,t,r,n,s){const i=new Te(t);return r&&i.withSuperGrammar(r instanceof je?r:this.fromRecipe(r)),n&&i.withDefaultStartRule(n),e&&e.source&&i.withSource(e.source),this.currentDecl=i,Object.keys(s).forEach((e=>{this.currentRuleName=e;const t=s[e],r=t[0],n=t[1],o=t[2],a=t[3],u=this.fromRecipe(t[4]);let c;i.source&&n&&n.sourceInterval&&(c=i.source.subInterval(n.sourceInterval[0],n.sourceInterval[1]-n.sourceInterval[0])),i[r](e,a,u,o,c)})),this.currentRuleName=this.currentDecl=null,i.build()}terminal(e){return new _(e)}range(e,t){return new S(e,t)}param(e){return new w(e)}alt(...e){let t=[];for(let r of e)r instanceof I||(r=this.fromRecipe(r)),r instanceof C?t=t.concat(r.terms):t.push(r);return 1===t.length?t[0]:new C(t)}seq(...e){let t=[];for(let r of e)r instanceof I||(r=this.fromRecipe(r)),r instanceof F?t=t.concat(r.factors):t.push(r);return 1===t.length?t[0]:new F(t)}star(e){return e instanceof I||(e=this.fromRecipe(e)),new E(e)}plus(e){return e instanceof I||(e=this.fromRecipe(e)),new N(e)}opt(e){return e instanceof I||(e=this.fromRecipe(e)),new L(e)}not(e){return e instanceof I||(e=this.fromRecipe(e)),new P(e)}lookahead(e){return e instanceof I||(e=this.fromRecipe(e)),new j(e)}lex(e){return e instanceof I||(e=this.fromRecipe(e)),new T(e)}app(e,t){return t&&t.length>0&&(t=t.map((function(e){return e instanceof I?e:this.fromRecipe(e)}),this)),new k(e,t)}splice(e,t){return new O(this.currentDecl.superGrammar,this.currentRuleName,e.map((e=>this.fromRecipe(e))),t.map((e=>this.fromRecipe(e))))}fromRecipe(e){const t="grammar"===e[0]?e.slice(1):e.slice(2),r=this[e[0]](...t),n=e[1];return n&&n.sourceInterval&&this.currentDecl&&r.withSource(this.currentDecl.sourceInterval(...n.sourceInterval)),r}}function Me(e){return"function"==typeof e?e.call(new ke):("string"==typeof e&&(e=JSON.parse(e)),(new ke).fromRecipe(e))}var De,qe=Me(["grammar",{source:'BuiltInRules {\n\n  alnum  (an alpha-numeric character)\n    = letter\n    | digit\n\n  letter  (a letter)\n    = lower\n    | upper\n    | unicodeLtmo\n\n  digit  (a digit)\n    = "0".."9"\n\n  hexDigit  (a hexadecimal digit)\n    = digit\n    | "a".."f"\n    | "A".."F"\n\n  ListOf<elem, sep>\n    = NonemptyListOf<elem, sep>\n    | EmptyListOf<elem, sep>\n\n  NonemptyListOf<elem, sep>\n    = elem (sep elem)*\n\n  EmptyListOf<elem, sep>\n    = /* nothing */\n\n  listOf<elem, sep>\n    = nonemptyListOf<elem, sep>\n    | emptyListOf<elem, sep>\n\n  nonemptyListOf<elem, sep>\n    = elem (sep elem)*\n\n  emptyListOf<elem, sep>\n    = /* nothing */\n\n  // Allows a syntactic rule application within a lexical context.\n  applySyntactic<app> = app\n}'},"BuiltInRules",null,null,{alnum:["define",{sourceInterval:[18,78]},"an alpha-numeric character",[],["alt",{sourceInterval:[60,78]},["app",{sourceInterval:[60,66]},"letter",[]],["app",{sourceInterval:[73,78]},"digit",[]]]],letter:["define",{sourceInterval:[82,142]},"a letter",[],["alt",{sourceInterval:[107,142]},["app",{sourceInterval:[107,112]},"lower",[]],["app",{sourceInterval:[119,124]},"upper",[]],["app",{sourceInterval:[131,142]},"unicodeLtmo",[]]]],digit:["define",{sourceInterval:[146,177]},"a digit",[],["range",{sourceInterval:[169,177]},"0","9"]],hexDigit:["define",{sourceInterval:[181,254]},"a hexadecimal digit",[],["alt",{sourceInterval:[219,254]},["app",{sourceInterval:[219,224]},"digit",[]],["range",{sourceInterval:[231,239]},"a","f"],["range",{sourceInterval:[246,254]},"A","F"]]],ListOf:["define",{sourceInterval:[258,336]},null,["elem","sep"],["alt",{sourceInterval:[282,336]},["app",{sourceInterval:[282,307]},"NonemptyListOf",[["param",{sourceInterval:[297,301]},0],["param",{sourceInterval:[303,306]},1]]],["app",{sourceInterval:[314,336]},"EmptyListOf",[["param",{sourceInterval:[326,330]},0],["param",{sourceInterval:[332,335]},1]]]]],NonemptyListOf:["define",{sourceInterval:[340,388]},null,["elem","sep"],["seq",{sourceInterval:[372,388]},["param",{sourceInterval:[372,376]},0],["star",{sourceInterval:[377,388]},["seq",{sourceInterval:[378,386]},["param",{sourceInterval:[378,381]},1],["param",{sourceInterval:[382,386]},0]]]]],EmptyListOf:["define",{sourceInterval:[392,434]},null,["elem","sep"],["seq",{sourceInterval:[438,438]}]],listOf:["define",{sourceInterval:[438,516]},null,["elem","sep"],["alt",{sourceInterval:[462,516]},["app",{sourceInterval:[462,487]},"nonemptyListOf",[["param",{sourceInterval:[477,481]},0],["param",{sourceInterval:[483,486]},1]]],["app",{sourceInterval:[494,516]},"emptyListOf",[["param",{sourceInterval:[506,510]},0],["param",{sourceInterval:[512,515]},1]]]]],nonemptyListOf:["define",{sourceInterval:[520,568]},null,["elem","sep"],["seq",{sourceInterval:[552,568]},["param",{sourceInterval:[552,556]},0],["star",{sourceInterval:[557,568]},["seq",{sourceInterval:[558,566]},["param",{sourceInterval:[558,561]},1],["param",{sourceInterval:[562,566]},0]]]]],emptyListOf:["define",{sourceInterval:[572,682]},null,["elem","sep"],["seq",{sourceInterval:[685,685]}]],applySyntactic:["define",{sourceInterval:[685,710]},null,["app"],["param",{sourceInterval:[707,710]},0]]}]);je.BuiltInRules=qe,De=je.BuiltInRules,J.forEach((e=>{e(De)})),J=null;var Ge=Me(["grammar",{source:'Ohm {\n\n  Grammars\n    = Grammar*\n\n  Grammar\n    = ident SuperGrammar? "{" Rule* "}"\n\n  SuperGrammar\n    = "<:" ident\n\n  Rule\n    = ident Formals? ruleDescr? "="  RuleBody  -- define\n    | ident Formals?            ":=" OverrideRuleBody  -- override\n    | ident Formals?            "+=" RuleBody  -- extend\n\n  RuleBody\n    = "|"? NonemptyListOf<TopLevelTerm, "|">\n\n  TopLevelTerm\n    = Seq caseName  -- inline\n    | Seq\n\n  OverrideRuleBody\n    = "|"? NonemptyListOf<OverrideTopLevelTerm, "|">\n\n  OverrideTopLevelTerm\n    = "..."  -- superSplice\n    | TopLevelTerm\n\n  Formals\n    = "<" ListOf<ident, ","> ">"\n\n  Params\n    = "<" ListOf<Seq, ","> ">"\n\n  Alt\n    = NonemptyListOf<Seq, "|">\n\n  Seq\n    = Iter*\n\n  Iter\n    = Pred "*"  -- star\n    | Pred "+"  -- plus\n    | Pred "?"  -- opt\n    | Pred\n\n  Pred\n    = "~" Lex  -- not\n    | "&" Lex  -- lookahead\n    | Lex\n\n  Lex\n    = "#" Base  -- lex\n    | Base\n\n  Base\n    = ident Params? ~(ruleDescr? "=" | ":=" | "+=")  -- application\n    | oneCharTerminal ".." oneCharTerminal           -- range\n    | terminal                                       -- terminal\n    | "(" Alt ")"                                    -- paren\n\n  ruleDescr  (a rule description)\n    = "(" ruleDescrText ")"\n\n  ruleDescrText\n    = (~")" any)*\n\n  caseName\n    = "--" (~"\\n" space)* name (~"\\n" space)* ("\\n" | &"}")\n\n  name  (a name)\n    = nameFirst nameRest*\n\n  nameFirst\n    = "_"\n    | letter\n\n  nameRest\n    = "_"\n    | alnum\n\n  ident  (an identifier)\n    = name\n\n  terminal\n    = "\\"" terminalChar* "\\""\n\n  oneCharTerminal\n    = "\\"" terminalChar "\\""\n\n  terminalChar\n    = escapeChar\n      | ~"\\\\" ~"\\"" ~"\\n" "\\u{0}".."\\u{10FFFF}"\n\n  escapeChar  (an escape sequence)\n    = "\\\\\\\\"                                     -- backslash\n    | "\\\\\\""                                     -- doubleQuote\n    | "\\\\\\\'"                                     -- singleQuote\n    | "\\\\b"                                      -- backspace\n    | "\\\\n"                                      -- lineFeed\n    | "\\\\r"                                      -- carriageReturn\n    | "\\\\t"                                      -- tab\n    | "\\\\u{" hexDigit hexDigit? hexDigit?\n             hexDigit? hexDigit? hexDigit? "}"   -- unicodeCodePoint\n    | "\\\\u" hexDigit hexDigit hexDigit hexDigit  -- unicodeEscape\n    | "\\\\x" hexDigit hexDigit                    -- hexEscape\n\n  space\n   += comment\n\n  comment\n    = "//" (~"\\n" any)* &("\\n" | end)  -- singleLine\n    | "/*" (~"*/" any)* "*/"  -- multiLine\n\n  tokens = token*\n\n  token = caseName | comment | ident | operator | punctuation | terminal | any\n\n  operator = "<:" | "=" | ":=" | "+=" | "*" | "+" | "?" | "~" | "&"\n\n  punctuation = "<" | ">" | "," | "--"\n}'},"Ohm",null,"Grammars",{Grammars:["define",{sourceInterval:[9,32]},null,[],["star",{sourceInterval:[24,32]},["app",{sourceInterval:[24,31]},"Grammar",[]]]],Grammar:["define",{sourceInterval:[36,83]},null,[],["seq",{sourceInterval:[50,83]},["app",{sourceInterval:[50,55]},"ident",[]],["opt",{sourceInterval:[56,69]},["app",{sourceInterval:[56,68]},"SuperGrammar",[]]],["terminal",{sourceInterval:[70,73]},"{"],["star",{sourceInterval:[74,79]},["app",{sourceInterval:[74,78]},"Rule",[]]],["terminal",{sourceInterval:[80,83]},"}"]]],SuperGrammar:["define",{sourceInterval:[87,116]},null,[],["seq",{sourceInterval:[106,116]},["terminal",{sourceInterval:[106,110]},"<:"],["app",{sourceInterval:[111,116]},"ident",[]]]],Rule_define:["define",{sourceInterval:[131,181]},null,[],["seq",{sourceInterval:[131,170]},["app",{sourceInterval:[131,136]},"ident",[]],["opt",{sourceInterval:[137,145]},["app",{sourceInterval:[137,144]},"Formals",[]]],["opt",{sourceInterval:[146,156]},["app",{sourceInterval:[146,155]},"ruleDescr",[]]],["terminal",{sourceInterval:[157,160]},"="],["app",{sourceInterval:[162,170]},"RuleBody",[]]]],Rule_override:["define",{sourceInterval:[188,248]},null,[],["seq",{sourceInterval:[188,235]},["app",{sourceInterval:[188,193]},"ident",[]],["opt",{sourceInterval:[194,202]},["app",{sourceInterval:[194,201]},"Formals",[]]],["terminal",{sourceInterval:[214,218]},":="],["app",{sourceInterval:[219,235]},"OverrideRuleBody",[]]]],Rule_extend:["define",{sourceInterval:[255,305]},null,[],["seq",{sourceInterval:[255,294]},["app",{sourceInterval:[255,260]},"ident",[]],["opt",{sourceInterval:[261,269]},["app",{sourceInterval:[261,268]},"Formals",[]]],["terminal",{sourceInterval:[281,285]},"+="],["app",{sourceInterval:[286,294]},"RuleBody",[]]]],Rule:["define",{sourceInterval:[120,305]},null,[],["alt",{sourceInterval:[131,305]},["app",{sourceInterval:[131,170]},"Rule_define",[]],["app",{sourceInterval:[188,235]},"Rule_override",[]],["app",{sourceInterval:[255,294]},"Rule_extend",[]]]],RuleBody:["define",{sourceInterval:[309,362]},null,[],["seq",{sourceInterval:[324,362]},["opt",{sourceInterval:[324,328]},["terminal",{sourceInterval:[324,327]},"|"]],["app",{sourceInterval:[329,362]},"NonemptyListOf",[["app",{sourceInterval:[344,356]},"TopLevelTerm",[]],["terminal",{sourceInterval:[358,361]},"|"]]]]],TopLevelTerm_inline:["define",{sourceInterval:[385,408]},null,[],["seq",{sourceInterval:[385,397]},["app",{sourceInterval:[385,388]},"Seq",[]],["app",{sourceInterval:[389,397]},"caseName",[]]]],TopLevelTerm:["define",{sourceInterval:[366,418]},null,[],["alt",{sourceInterval:[385,418]},["app",{sourceInterval:[385,397]},"TopLevelTerm_inline",[]],["app",{sourceInterval:[415,418]},"Seq",[]]]],OverrideRuleBody:["define",{sourceInterval:[422,491]},null,[],["seq",{sourceInterval:[445,491]},["opt",{sourceInterval:[445,449]},["terminal",{sourceInterval:[445,448]},"|"]],["app",{sourceInterval:[450,491]},"NonemptyListOf",[["app",{sourceInterval:[465,485]},"OverrideTopLevelTerm",[]],["terminal",{sourceInterval:[487,490]},"|"]]]]],OverrideTopLevelTerm_superSplice:["define",{sourceInterval:[522,543]},null,[],["terminal",{sourceInterval:[522,527]},"..."]],OverrideTopLevelTerm:["define",{sourceInterval:[495,562]},null,[],["alt",{sourceInterval:[522,562]},["app",{sourceInterval:[522,527]},"OverrideTopLevelTerm_superSplice",[]],["app",{sourceInterval:[550,562]},"TopLevelTerm",[]]]],Formals:["define",{sourceInterval:[566,606]},null,[],["seq",{sourceInterval:[580,606]},["terminal",{sourceInterval:[580,583]},"<"],["app",{sourceInterval:[584,602]},"ListOf",[["app",{sourceInterval:[591,596]},"ident",[]],["terminal",{sourceInterval:[598,601]},","]]],["terminal",{sourceInterval:[603,606]},">"]]],Params:["define",{sourceInterval:[610,647]},null,[],["seq",{sourceInterval:[623,647]},["terminal",{sourceInterval:[623,626]},"<"],["app",{sourceInterval:[627,643]},"ListOf",[["app",{sourceInterval:[634,637]},"Seq",[]],["terminal",{sourceInterval:[639,642]},","]]],["terminal",{sourceInterval:[644,647]},">"]]],Alt:["define",{sourceInterval:[651,685]},null,[],["app",{sourceInterval:[661,685]},"NonemptyListOf",[["app",{sourceInterval:[676,679]},"Seq",[]],["terminal",{sourceInterval:[681,684]},"|"]]]],Seq:["define",{sourceInterval:[689,704]},null,[],["star",{sourceInterval:[699,704]},["app",{sourceInterval:[699,703]},"Iter",[]]]],Iter_star:["define",{sourceInterval:[719,736]},null,[],["seq",{sourceInterval:[719,727]},["app",{sourceInterval:[719,723]},"Pred",[]],["terminal",{sourceInterval:[724,727]},"*"]]],Iter_plus:["define",{sourceInterval:[743,760]},null,[],["seq",{sourceInterval:[743,751]},["app",{sourceInterval:[743,747]},"Pred",[]],["terminal",{sourceInterval:[748,751]},"+"]]],Iter_opt:["define",{sourceInterval:[767,783]},null,[],["seq",{sourceInterval:[767,775]},["app",{sourceInterval:[767,771]},"Pred",[]],["terminal",{sourceInterval:[772,775]},"?"]]],Iter:["define",{sourceInterval:[708,794]},null,[],["alt",{sourceInterval:[719,794]},["app",{sourceInterval:[719,727]},"Iter_star",[]],["app",{sourceInterval:[743,751]},"Iter_plus",[]],["app",{sourceInterval:[767,775]},"Iter_opt",[]],["app",{sourceInterval:[790,794]},"Pred",[]]]],Pred_not:["define",{sourceInterval:[809,824]},null,[],["seq",{sourceInterval:[809,816]},["terminal",{sourceInterval:[809,812]},"~"],["app",{sourceInterval:[813,816]},"Lex",[]]]],Pred_lookahead:["define",{sourceInterval:[831,852]},null,[],["seq",{sourceInterval:[831,838]},["terminal",{sourceInterval:[831,834]},"&"],["app",{sourceInterval:[835,838]},"Lex",[]]]],Pred:["define",{sourceInterval:[798,862]},null,[],["alt",{sourceInterval:[809,862]},["app",{sourceInterval:[809,816]},"Pred_not",[]],["app",{sourceInterval:[831,838]},"Pred_lookahead",[]],["app",{sourceInterval:[859,862]},"Lex",[]]]],Lex_lex:["define",{sourceInterval:[876,892]},null,[],["seq",{sourceInterval:[876,884]},["terminal",{sourceInterval:[876,879]},"#"],["app",{sourceInterval:[880,884]},"Base",[]]]],Lex:["define",{sourceInterval:[866,903]},null,[],["alt",{sourceInterval:[876,903]},["app",{sourceInterval:[876,884]},"Lex_lex",[]],["app",{sourceInterval:[899,903]},"Base",[]]]],Base_application:["define",{sourceInterval:[918,979]},null,[],["seq",{sourceInterval:[918,963]},["app",{sourceInterval:[918,923]},"ident",[]],["opt",{sourceInterval:[924,931]},["app",{sourceInterval:[924,930]},"Params",[]]],["not",{sourceInterval:[932,963]},["alt",{sourceInterval:[934,962]},["seq",{sourceInterval:[934,948]},["opt",{sourceInterval:[934,944]},["app",{sourceInterval:[934,943]},"ruleDescr",[]]],["terminal",{sourceInterval:[945,948]},"="]],["terminal",{sourceInterval:[951,955]},":="],["terminal",{sourceInterval:[958,962]},"+="]]]]],Base_range:["define",{sourceInterval:[986,1041]},null,[],["seq",{sourceInterval:[986,1022]},["app",{sourceInterval:[986,1001]},"oneCharTerminal",[]],["terminal",{sourceInterval:[1002,1006]},".."],["app",{sourceInterval:[1007,1022]},"oneCharTerminal",[]]]],Base_terminal:["define",{sourceInterval:[1048,1106]},null,[],["app",{sourceInterval:[1048,1056]},"terminal",[]]],Base_paren:["define",{sourceInterval:[1113,1168]},null,[],["seq",{sourceInterval:[1113,1124]},["terminal",{sourceInterval:[1113,1116]},"("],["app",{sourceInterval:[1117,1120]},"Alt",[]],["terminal",{sourceInterval:[1121,1124]},")"]]],Base:["define",{sourceInterval:[907,1168]},null,[],["alt",{sourceInterval:[918,1168]},["app",{sourceInterval:[918,963]},"Base_application",[]],["app",{sourceInterval:[986,1022]},"Base_range",[]],["app",{sourceInterval:[1048,1056]},"Base_terminal",[]],["app",{sourceInterval:[1113,1124]},"Base_paren",[]]]],ruleDescr:["define",{sourceInterval:[1172,1231]},"a rule description",[],["seq",{sourceInterval:[1210,1231]},["terminal",{sourceInterval:[1210,1213]},"("],["app",{sourceInterval:[1214,1227]},"ruleDescrText",[]],["terminal",{sourceInterval:[1228,1231]},")"]]],ruleDescrText:["define",{sourceInterval:[1235,1266]},null,[],["star",{sourceInterval:[1255,1266]},["seq",{sourceInterval:[1256,1264]},["not",{sourceInterval:[1256,1260]},["terminal",{sourceInterval:[1257,1260]},")"]],["app",{sourceInterval:[1261,1264]},"any",[]]]]],caseName:["define",{sourceInterval:[1270,1338]},null,[],["seq",{sourceInterval:[1285,1338]},["terminal",{sourceInterval:[1285,1289]},"--"],["star",{sourceInterval:[1290,1304]},["seq",{sourceInterval:[1291,1302]},["not",{sourceInterval:[1291,1296]},["terminal",{sourceInterval:[1292,1296]},"\n"]],["app",{sourceInterval:[1297,1302]},"space",[]]]],["app",{sourceInterval:[1305,1309]},"name",[]],["star",{sourceInterval:[1310,1324]},["seq",{sourceInterval:[1311,1322]},["not",{sourceInterval:[1311,1316]},["terminal",{sourceInterval:[1312,1316]},"\n"]],["app",{sourceInterval:[1317,1322]},"space",[]]]],["alt",{sourceInterval:[1326,1337]},["terminal",{sourceInterval:[1326,1330]},"\n"],["lookahead",{sourceInterval:[1333,1337]},["terminal",{sourceInterval:[1334,1337]},"}"]]]]],name:["define",{sourceInterval:[1342,1382]},"a name",[],["seq",{sourceInterval:[1363,1382]},["app",{sourceInterval:[1363,1372]},"nameFirst",[]],["star",{sourceInterval:[1373,1382]},["app",{sourceInterval:[1373,1381]},"nameRest",[]]]]],nameFirst:["define",{sourceInterval:[1386,1418]},null,[],["alt",{sourceInterval:[1402,1418]},["terminal",{sourceInterval:[1402,1405]},"_"],["app",{sourceInterval:[1412,1418]},"letter",[]]]],nameRest:["define",{sourceInterval:[1422,1452]},null,[],["alt",{sourceInterval:[1437,1452]},["terminal",{sourceInterval:[1437,1440]},"_"],["app",{sourceInterval:[1447,1452]},"alnum",[]]]],ident:["define",{sourceInterval:[1456,1489]},"an identifier",[],["app",{sourceInterval:[1485,1489]},"name",[]]],terminal:["define",{sourceInterval:[1493,1531]},null,[],["seq",{sourceInterval:[1508,1531]},["terminal",{sourceInterval:[1508,1512]},'"'],["star",{sourceInterval:[1513,1526]},["app",{sourceInterval:[1513,1525]},"terminalChar",[]]],["terminal",{sourceInterval:[1527,1531]},'"']]],oneCharTerminal:["define",{sourceInterval:[1535,1579]},null,[],["seq",{sourceInterval:[1557,1579]},["terminal",{sourceInterval:[1557,1561]},'"'],["app",{sourceInterval:[1562,1574]},"terminalChar",[]],["terminal",{sourceInterval:[1575,1579]},'"']]],terminalChar:["define",{sourceInterval:[1583,1660]},null,[],["alt",{sourceInterval:[1602,1660]},["app",{sourceInterval:[1602,1612]},"escapeChar",[]],["seq",{sourceInterval:[1621,1660]},["not",{sourceInterval:[1621,1626]},["terminal",{sourceInterval:[1622,1626]},"\\"]],["not",{sourceInterval:[1627,1632]},["terminal",{sourceInterval:[1628,1632]},'"']],["not",{sourceInterval:[1633,1638]},["terminal",{sourceInterval:[1634,1638]},"\n"]],["range",{sourceInterval:[1639,1660]},"\0","􏿿"]]]],escapeChar_backslash:["define",{sourceInterval:[1703,1758]},null,[],["terminal",{sourceInterval:[1703,1709]},"\\\\"]],escapeChar_doubleQuote:["define",{sourceInterval:[1765,1822]},null,[],["terminal",{sourceInterval:[1765,1771]},'\\"']],escapeChar_singleQuote:["define",{sourceInterval:[1829,1886]},null,[],["terminal",{sourceInterval:[1829,1835]},"\\'"]],escapeChar_backspace:["define",{sourceInterval:[1893,1948]},null,[],["terminal",{sourceInterval:[1893,1898]},"\\b"]],escapeChar_lineFeed:["define",{sourceInterval:[1955,2009]},null,[],["terminal",{sourceInterval:[1955,1960]},"\\n"]],escapeChar_carriageReturn:["define",{sourceInterval:[2016,2076]},null,[],["terminal",{sourceInterval:[2016,2021]},"\\r"]],escapeChar_tab:["define",{sourceInterval:[2083,2132]},null,[],["terminal",{sourceInterval:[2083,2088]},"\\t"]],escapeChar_unicodeCodePoint:["define",{sourceInterval:[2139,2243]},null,[],["seq",{sourceInterval:[2139,2221]},["terminal",{sourceInterval:[2139,2145]},"\\u{"],["app",{sourceInterval:[2146,2154]},"hexDigit",[]],["opt",{sourceInterval:[2155,2164]},["app",{sourceInterval:[2155,2163]},"hexDigit",[]]],["opt",{sourceInterval:[2165,2174]},["app",{sourceInterval:[2165,2173]},"hexDigit",[]]],["opt",{sourceInterval:[2188,2197]},["app",{sourceInterval:[2188,2196]},"hexDigit",[]]],["opt",{sourceInterval:[2198,2207]},["app",{sourceInterval:[2198,2206]},"hexDigit",[]]],["opt",{sourceInterval:[2208,2217]},["app",{sourceInterval:[2208,2216]},"hexDigit",[]]],["terminal",{sourceInterval:[2218,2221]},"}"]]],escapeChar_unicodeEscape:["define",{sourceInterval:[2250,2309]},null,[],["seq",{sourceInterval:[2250,2291]},["terminal",{sourceInterval:[2250,2255]},"\\u"],["app",{sourceInterval:[2256,2264]},"hexDigit",[]],["app",{sourceInterval:[2265,2273]},"hexDigit",[]],["app",{sourceInterval:[2274,2282]},"hexDigit",[]],["app",{sourceInterval:[2283,2291]},"hexDigit",[]]]],escapeChar_hexEscape:["define",{sourceInterval:[2316,2371]},null,[],["seq",{sourceInterval:[2316,2339]},["terminal",{sourceInterval:[2316,2321]},"\\x"],["app",{sourceInterval:[2322,2330]},"hexDigit",[]],["app",{sourceInterval:[2331,2339]},"hexDigit",[]]]],escapeChar:["define",{sourceInterval:[1664,2371]},"an escape sequence",[],["alt",{sourceInterval:[1703,2371]},["app",{sourceInterval:[1703,1709]},"escapeChar_backslash",[]],["app",{sourceInterval:[1765,1771]},"escapeChar_doubleQuote",[]],["app",{sourceInterval:[1829,1835]},"escapeChar_singleQuote",[]],["app",{sourceInterval:[1893,1898]},"escapeChar_backspace",[]],["app",{sourceInterval:[1955,1960]},"escapeChar_lineFeed",[]],["app",{sourceInterval:[2016,2021]},"escapeChar_carriageReturn",[]],["app",{sourceInterval:[2083,2088]},"escapeChar_tab",[]],["app",{sourceInterval:[2139,2221]},"escapeChar_unicodeCodePoint",[]],["app",{sourceInterval:[2250,2291]},"escapeChar_unicodeEscape",[]],["app",{sourceInterval:[2316,2339]},"escapeChar_hexEscape",[]]]],space:["extend",{sourceInterval:[2375,2394]},null,[],["app",{sourceInterval:[2387,2394]},"comment",[]]],comment_singleLine:["define",{sourceInterval:[2412,2458]},null,[],["seq",{sourceInterval:[2412,2443]},["terminal",{sourceInterval:[2412,2416]},"//"],["star",{sourceInterval:[2417,2429]},["seq",{sourceInterval:[2418,2427]},["not",{sourceInterval:[2418,2423]},["terminal",{sourceInterval:[2419,2423]},"\n"]],["app",{sourceInterval:[2424,2427]},"any",[]]]],["lookahead",{sourceInterval:[2430,2443]},["alt",{sourceInterval:[2432,2442]},["terminal",{sourceInterval:[2432,2436]},"\n"],["app",{sourceInterval:[2439,2442]},"end",[]]]]]],comment_multiLine:["define",{sourceInterval:[2465,2501]},null,[],["seq",{sourceInterval:[2465,2487]},["terminal",{sourceInterval:[2465,2469]},"/*"],["star",{sourceInterval:[2470,2482]},["seq",{sourceInterval:[2471,2480]},["not",{sourceInterval:[2471,2476]},["terminal",{sourceInterval:[2472,2476]},"*/"]],["app",{sourceInterval:[2477,2480]},"any",[]]]],["terminal",{sourceInterval:[2483,2487]},"*/"]]],comment:["define",{sourceInterval:[2398,2501]},null,[],["alt",{sourceInterval:[2412,2501]},["app",{sourceInterval:[2412,2443]},"comment_singleLine",[]],["app",{sourceInterval:[2465,2487]},"comment_multiLine",[]]]],tokens:["define",{sourceInterval:[2505,2520]},null,[],["star",{sourceInterval:[2514,2520]},["app",{sourceInterval:[2514,2519]},"token",[]]]],token:["define",{sourceInterval:[2524,2600]},null,[],["alt",{sourceInterval:[2532,2600]},["app",{sourceInterval:[2532,2540]},"caseName",[]],["app",{sourceInterval:[2543,2550]},"comment",[]],["app",{sourceInterval:[2553,2558]},"ident",[]],["app",{sourceInterval:[2561,2569]},"operator",[]],["app",{sourceInterval:[2572,2583]},"punctuation",[]],["app",{sourceInterval:[2586,2594]},"terminal",[]],["app",{sourceInterval:[2597,2600]},"any",[]]]],operator:["define",{sourceInterval:[2604,2669]},null,[],["alt",{sourceInterval:[2615,2669]},["terminal",{sourceInterval:[2615,2619]},"<:"],["terminal",{sourceInterval:[2622,2625]},"="],["terminal",{sourceInterval:[2628,2632]},":="],["terminal",{sourceInterval:[2635,2639]},"+="],["terminal",{sourceInterval:[2642,2645]},"*"],["terminal",{sourceInterval:[2648,2651]},"+"],["terminal",{sourceInterval:[2654,2657]},"?"],["terminal",{sourceInterval:[2660,2663]},"~"],["terminal",{sourceInterval:[2666,2669]},"&"]]],punctuation:["define",{sourceInterval:[2673,2709]},null,[],["alt",{sourceInterval:[2687,2709]},["terminal",{sourceInterval:[2687,2690]},"<"],["terminal",{sourceInterval:[2693,2696]},">"],["terminal",{sourceInterval:[2699,2702]},","],["terminal",{sourceInterval:[2705,2709]},"--"]]]}]);const Be=Object.create(I.prototype);function ze(e,t){for(const r in e)if(r===t)return!0;return!1}function $e(e,t,r){const s=new ke;let i,o,a,u=!1;const c=(r||Ge).createSemantics().addOperation("visit",{Grammars:e=>e.children.map((e=>e.visit())),Grammar(e,r,n,o,a){const u=e.visit();i=s.newGrammar(u),r.child(0)&&r.child(0).visit(),o.children.map((e=>e.visit()));const c=i.build();if(c.source=this.source.trimmed(),ze(t,u))throw function(e,t){return D("Grammar "+e.name+" is already declared in this namespace")}(c);return t[u]=c,c},SuperGrammar(e,r){const n=r.visit();if("null"===n)i.withSuperGrammar(null);else{if(!t||!ze(t,n))throw function(e,t,r){return D(t?`Grammar ${e} is not declared in namespace '${t}'`:"Undeclared grammar "+e,r)}(n,t,r.source);i.withSuperGrammar(t[n])}},Rule_define(e,t,r,n,s){o=e.visit(),a=t.children.map((e=>e.visit()))[0]||[],i.defaultStartRule||i.ensureSuperGrammar()===je.ProtoBuiltInRules||i.withDefaultStartRule(o);const u=s.visit(),c=r.children.map((e=>e.visit()))[0],l=this.source.trimmed();return i.define(o,a,u,c,l)},Rule_override(e,t,r,n){o=e.visit(),a=t.children.map((e=>e.visit()))[0]||[];const s=this.source.trimmed();i.ensureSuperGrammarRuleForOverriding(o,s),u=!0;const c=n.visit();return u=!1,i.override(o,a,c,null,s)},Rule_extend(e,t,r,n){o=e.visit(),a=t.children.map((e=>e.visit()))[0]||[];const s=n.visit(),u=this.source.trimmed();return i.extend(o,a,s,null,u)},RuleBody(e,t){return s.alt(...t.visit()).withSource(this.source)},OverrideRuleBody(e,t){const r=t.visit(),n=r.indexOf(Be);if(n>=0){const e=r.slice(0,n),t=r.slice(n+1);return t.forEach((e=>{if(e===Be)throw D("'...' can appear at most once in a rule body",e.source)})),new O(i.superGrammar,o,e,t).withSource(this.source)}return s.alt(...r).withSource(this.source)},Formals:(e,t,r)=>t.visit(),Params:(e,t,r)=>t.visit(),Alt(e){return s.alt(...e.visit()).withSource(this.source)},TopLevelTerm_inline(e,t){const r=o+"_"+t.visit(),n=e.visit(),c=this.source.trimmed(),l=!(i.superGrammar&&i.superGrammar.rules[r]);u&&!l?i.override(r,a,n,null,c):i.define(r,a,n,null,c);const p=a.map((e=>s.app(e)));return s.app(r,p).withSource(n.source)},OverrideTopLevelTerm_superSplice:e=>Be,Seq(e){return s.seq(...e.children.map((e=>e.visit()))).withSource(this.source)},Iter_star(e,t){return s.star(e.visit()).withSource(this.source)},Iter_plus(e,t){return s.plus(e.visit()).withSource(this.source)},Iter_opt(e,t){return s.opt(e.visit()).withSource(this.source)},Pred_not(e,t){return s.not(t.visit()).withSource(this.source)},Pred_lookahead(e,t){return s.lookahead(t.visit()).withSource(this.source)},Lex_lex(e,t){return s.lex(t.visit()).withSource(this.source)},Base_application(e,t){const r=t.children.map((e=>e.visit()))[0]||[];return s.app(e.visit(),r).withSource(this.source)},Base_range(e,t,r){return s.range(e.visit(),r.visit()).withSource(this.source)},Base_terminal(e){return s.terminal(e.visit()).withSource(this.source)},Base_paren:(e,t,r)=>t.visit(),ruleDescr:(e,t,r)=>t.visit(),ruleDescrText(e){return this.sourceString.trim()},caseName:(e,t,r,n,s)=>r.visit(),name(e,t){return this.sourceString},nameFirst(e){},nameRest(e){},terminal:(e,t,r)=>t.children.map((e=>e.visit())).join(""),oneCharTerminal:(e,t,r)=>t.visit(),escapeChar(e){try{return d(this.sourceString)}catch(t){if(t instanceof RangeError&&t.message.startsWith("Invalid code point "))throw function(e){const t=e._node;n(t&&t.isNonterminal()&&"escapeChar_unicodeCodePoint"===t.ctorName);const r=e.children.slice(1,-1).map((e=>e.source)),s=r[0].coverageWith(...r.slice(1));return D(`U+${s.contents} is not a valid Unicode code point`,s)}(e);throw t}},NonemptyListOf:(e,t,r)=>[e.visit()].concat(r.children.map((e=>e.visit()))),EmptyListOf:()=>[],_terminal(){return this.sourceString}});return c(e).visit()}var Ue=Me(["grammar",{source:'OperationsAndAttributes {\n\n  AttributeSignature =\n    name\n\n  OperationSignature =\n    name Formals?\n\n  Formals\n    = "(" ListOf<name, ","> ")"\n\n  name  (a name)\n    = nameFirst nameRest*\n\n  nameFirst\n    = "_"\n    | letter\n\n  nameRest\n    = "_"\n    | alnum\n\n}'},"OperationsAndAttributes",null,"AttributeSignature",{AttributeSignature:["define",{sourceInterval:[29,58]},null,[],["app",{sourceInterval:[54,58]},"name",[]]],OperationSignature:["define",{sourceInterval:[62,100]},null,[],["seq",{sourceInterval:[87,100]},["app",{sourceInterval:[87,91]},"name",[]],["opt",{sourceInterval:[92,100]},["app",{sourceInterval:[92,99]},"Formals",[]]]]],Formals:["define",{sourceInterval:[104,143]},null,[],["seq",{sourceInterval:[118,143]},["terminal",{sourceInterval:[118,121]},"("],["app",{sourceInterval:[122,139]},"ListOf",[["app",{sourceInterval:[129,133]},"name",[]],["terminal",{sourceInterval:[135,138]},","]]],["terminal",{sourceInterval:[140,143]},")"]]],name:["define",{sourceInterval:[147,187]},"a name",[],["seq",{sourceInterval:[168,187]},["app",{sourceInterval:[168,177]},"nameFirst",[]],["star",{sourceInterval:[178,187]},["app",{sourceInterval:[178,186]},"nameRest",[]]]]],nameFirst:["define",{sourceInterval:[191,223]},null,[],["alt",{sourceInterval:[207,223]},["terminal",{sourceInterval:[207,210]},"_"],["app",{sourceInterval:[217,223]},"letter",[]]]],nameRest:["define",{sourceInterval:[227,257]},null,[],["alt",{sourceInterval:[242,257]},["terminal",{sourceInterval:[242,245]},"_"],["app",{sourceInterval:[252,257]},"alnum",[]]]]}]);!function(e){const t={empty(){return this.iteration()},nonEmpty(e,t,r){return this.iteration([e].concat(r.children))}};Ae.BuiltInSemantics=Ae.createSemantics(e,null).addOperation("asIteration",{emptyListOf:t.empty,nonemptyListOf:t.nonEmpty,EmptyListOf:t.empty,NonemptyListOf:t.nonEmpty})}(je.BuiltInRules),function(e){Ae.prototypeGrammarSemantics=e.createSemantics().addOperation("parse",{AttributeSignature:e=>({name:e.parse(),formals:[]}),OperationSignature:(e,t)=>({name:e.parse(),formals:t.children.map((e=>e.parse()))[0]||[]}),Formals:(e,t,r)=>t.asIteration().children.map((e=>e.parse())),name(e,t){return this.sourceString}}),Ae.prototypeGrammar=e}(Ue);const Ve="an indented block",Ke="a dedent",He=1114112;class We extends te{constructor(e){super(e.input),this.state=e}_indentationAt(e){return this.state.userData[e]||0}atEnd(){return super.atEnd()&&0===this._indentationAt(this.pos)}next(){if(0===this._indentationAt(this.pos))return super.next();this.examinedLength=Math.max(this.examinedLength,this.pos)}nextCharCode(){return 0!==this._indentationAt(this.pos)?(this.examinedLength=Math.max(this.examinedLength,this.pos),He):super.nextCharCode()}nextCodePoint(){return 0!==this._indentationAt(this.pos)?(this.examinedLength=Math.max(this.examinedLength,this.pos),He):super.nextCodePoint()}}class Je extends I{constructor(e=!0){super(),this.isIndent=e}allowsSkippingPrecedingSpace(){return!0}eval(e){const{inputStream:t}=e,r=e.userData;e.doNotMemoize=!0;const n=t.pos,s=this.isIndent?1:-1;return(r[n]||0)*s>0?(e.userData=Object.create(r),e.userData[n]-=s,e.pushBinding(new le(0),n),!0):(e.processFailure(n,this),!1)}getArity(){return 1}_assertAllApplicationsAreValid(e,t){}_isNullable(e,t){return!1}assertChoicesHaveUniformArity(e){}assertIteratedExprsAreNotNullable(e){}introduceParams(e){return this}substituteParams(e){return this}toString(){return this.isIndent?"indent":"dedent"}toDisplayString(){return this.toString()}toFailure(e){const t=this.isIndent?Ve:Ke;return new ve(this,t,"description")}}const Ze=new k("indent"),Qe=new k("dedent"),Ye=new O(qe,"any",[Ze,Qe],[]),Xe=(new ke).newGrammar("IndentationSensitive").withSuperGrammar(qe).define("indent",[],new Je(!0),Ve,void 0,!0).define("dedent",[],new Je(!1),Ke,void 0,!0).extend("any",[],Ye,"any character",void 0).build();Object.assign(Xe,{_matchStateInitializer(e){e.userData=function(e){let t=0;const r=[0],n=()=>r[r.length-1],s={},i=/( *).*(?:$|\r?\n|\r)/g;let o;for(;null!=(o=i.exec(e));){const[e,i]=o;if(0===e.length)break;const a=i.length,u=n(),c=t+a;if(a>u)r.push(a),s[c]=1;else if(a<u){const e=r.length;for(;n()!==a;)r.pop();s[c]=-1*(e-r.length)}t+=e.length}return r.length>1&&(s[t]=1-r.length),s}(e.input),e.inputStream=new We(e)},supportsIncrementalParsing:!1}),je.initApplicationParser(Ge,$e);function et(e,t){const r=Object.create(t||{});if("string"!=typeof e){if(!(n=e).constructor||"function"!=typeof n.constructor.isBuffer||!n.constructor.isBuffer(n))throw new TypeError("Expected string as first argument, got "+v(e));e=e.toString()}var n;return function(e,t){const r=Ge.match(e,"Grammars");if(r.failed())throw function(e){const t=new Error;return Object.defineProperty(t,"message",{enumerable:!0,get:()=>e.message}),Object.defineProperty(t,"shortMessage",{enumerable:!0,get:()=>"Expected "+e.getExpectedText()}),t.interval=e.getInterval(),t}(r);$e(r,t)}(e,r),r}t.ExperimentalIndentationSensitive=Xe,t._buildGrammar=$e,t.grammar=function(e,t){const r=et(e,t),n=Object.keys(r);if(0===n.length)throw new Error("Missing grammar definition");if(n.length>1){const e=r[n[1]].source;throw new Error(Y(e.sourceString,e.startIdx)+"Found more than one grammar definition -- use ohm.grammars() instead.")}return r[n[0]]},t.grammars=et,t.makeRecipe=Me,t.ohmGrammar=Ge,t.pexprs=ye,t.version="17.1.0"}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n](i,i.exports,r),i.loaded=!0,i.exports}r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var n={};(()=>{"use strict";var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.StreamRegex=void 0;var t=r(3592);Object.defineProperty(e,"StreamRegex",{enumerable:!0,get:function(){return t.StreamRegex}})})(),exports["stream-regex"]=n})();